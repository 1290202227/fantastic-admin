
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.ffbd20e5.js";import{c as s,e as i}from"./index.9c2de28b.js";import{l as r,J as o,X as t,r as n,an as a,s as l,n as u,K as m,O as p,L as d,R as c}from"./vendor.7707186e.js";import{_ as h}from"./index.f03e52fd.js";const b={props:{value:{type:[String,Array],default:""}},setup(e){const i=e;return(e,n)=>(r(),o("div",null,[s(i.value)?t(e.$slots,"default",{key:0}):t(e.$slots,"no-auth",{key:1})]))}},f={props:{value:{type:Array,default:()=>[]}},setup(e){const s=e;return(e,n)=>(r(),o("div",null,[i(s.value)?t(e.$slots,"default",{key:0}):t(e.$slots,"no-auth",{key:1})]))}},g={data(){return{account:this.$store.state.user.account}},methods:{accountChange(e){this.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),this.$store.dispatch("user/login",{account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))},permissionCheck(e){this.$auth(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")},permissionCheck2(e){this.$authAll(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")}}},v={key:0},w={key:1},_=m("h3",null,"切换帐号",-1),k=m("h3",null,"帐号权限",-1),y=m("h3",null,"鉴权组件（请对照代码查看）",-1),$=c("你有 permission.browse 权限"),C=c("你没有 permission.browse 权限"),x=c("你有 permission.create 权限"),j=c("你没有 permission.create 权限"),A=c("你有 permission.browse 或 permission.create 权限"),V=c("你没有 permission.browse 或 permission.create 权限"),J=c("你有 permission.browse 和 permission.create 权限"),K=c("你没有 permission.browse 和 permission.create 权限"),L=m("h3",null,"鉴权指令（请对照代码查看）",-1),O=[c(" 如果你有 permission.browse 权限则能看到这句话 ")],P=[c(" 如果你有 permission.create 权限则能看到这句话 ")],R=[c(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],S=[c(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],T=m("h3",null,"鉴权函数（请对照代码查看）",-1),U=c("校验 permission.browse 权限"),X=c("校验 permission.create 权限"),q=c("校验 permission.browse 或 permission.create 权限"),z=c("校验 permission.browse 和 permission.create 权限");g.render=function(s,i,t,c,g,B){const D=e,E=n("el-radio-button"),F=n("el-radio-group"),G=n("el-tag"),H=b,I=f,M=n("el-button"),N=n("el-button-group"),Q=h,W=a("auth"),Y=a("auth-all");return r(),o("div",null,[l(D,{title:"权限验证"}),l(Q,null,{default:u((()=>[s.$store.state.settings.enablePermission?(r(),o("div",w,[_,l(F,{modelValue:g.account,"onUpdate:modelValue":i[0]||(i[0]=e=>g.account=e),onChange:B.accountChange},{default:u((()=>[l(E,{label:"admin"}),l(E,{label:"test"})])),_:1},8,["modelValue","onChange"]),k,m("div",null,p(s.$store.state.user.permissions),1),y,m("div",null,[l(H,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(G,{type:"danger"},{default:u((()=>[C])),_:1})])),default:u((()=>[l(G,null,{default:u((()=>[$])),_:1})])),_:1}),l(H,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(G,{type:"danger"},{default:u((()=>[j])),_:1})])),default:u((()=>[l(G,null,{default:u((()=>[x])),_:1})])),_:1}),l(H,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(G,{type:"danger"},{default:u((()=>[V])),_:1})])),default:u((()=>[l(G,null,{default:u((()=>[A])),_:1})])),_:1},8,["value"]),l(I,{value:["permission.browse","permission.create"]},{"no-auth":u((()=>[l(G,{type:"danger"},{default:u((()=>[K])),_:1})])),default:u((()=>[l(G,null,{default:u((()=>[J])),_:1})])),_:1},8,["value"])]),L,m("div",null,[d(m("div",null,O,512),[[W,"permission.browse"]]),d(m("div",null,P,512),[[W,"permission.create"]]),d(m("div",null,R,512),[[W,["permission.browse","permission.create"]]]),d(m("div",null,S,512),[[Y,["permission.browse","permission.create"]]])]),T,m("div",null,[l(N,{style:{display:"block","margin-bottom":"10px"}},{default:u((()=>[l(M,{onClick:i[1]||(i[1]=e=>B.permissionCheck("permission.browse"))},{default:u((()=>[U])),_:1}),l(M,{onClick:i[2]||(i[2]=e=>B.permissionCheck("permission.create"))},{default:u((()=>[X])),_:1})])),_:1}),l(N,null,{default:u((()=>[l(M,{onClick:i[3]||(i[3]=e=>B.permissionCheck(["permission.browse","permission.create"]))},{default:u((()=>[q])),_:1}),l(M,{onClick:i[4]||(i[4]=e=>B.permissionCheck2(["permission.browse","permission.create"]))},{default:u((()=>[z])),_:1})])),_:1})])])):(r(),o("div",v,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])};export{g as default};
