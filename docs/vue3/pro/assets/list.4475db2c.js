
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.d7acb132.js";import{_ as a}from"./index.e91f0465.js";import{_ as l}from"./index.d6dbcd0e.js";import{_ as t}from"./index.6d456c03.js";import{ai as o,a0 as i,$ as s,o as n,a1 as r,r as d,am as u,l as p,H as m,s as c,n as f,Q as v,m as g,L as b,J as h,q as _,S as y,h as k}from"./vendor.1e0be253.js";import{g as x,p as C,o as M,a as z,b as L}from"./pagination.8d054c1a.js";import w from"./index.f431bea0.js";import{_ as j}from"./plugin-vue_export-helper.5a098b48.js";import"./index.77209619.js";const $=y("新增部门"),P=y("筛 选"),S=y("单个批量操作按钮"),D=y("批量操作按钮组1"),V=y("批量操作按钮组2"),E=y("查看职位"),U=y("编辑"),G=y("删除"),A=o({name:"PagesExampleDepartmentList"});var B=j(Object.assign(A,{setup:function(o){const{proxy:y}=k(),j=i(),A=s({loading:!1,formMode:"dialog",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});function B(){A.value.loading=!0;let e=x();A.value.search.title&&(e.title=A.value.search.title),y.$api.get("pages_example/department/list",{baseURL:"/mock/",params:e}).then((e=>{A.value.loading=!1,A.value.dataList=e.data.list,C.value.total=e.data.total}))}function J(e){M(e).then((()=>B()))}function K(e){z(e).then((()=>B()))}function R(e,a){L(e,a).then((()=>B()))}function q(){"router"===A.value.formMode?j.push({name:"pagesExampleGeneralDepartmentCreate"}):(A.value.formModeProps.id="",A.value.formModeProps.visible=!0)}return n((()=>{B(),"router"===A.value.formMode&&y.$eventBus.on("get-data-list",(()=>{B()}))})),r((()=>{"router"===A.value.formMode&&y.$eventBus.off("get-data-list")})),(o,i)=>{const s=e,n=d("el-button"),r=d("el-input"),k=d("el-form-item"),x=d("el-col"),M=d("el-row"),z=d("el-form"),L=a,H=d("el-button-group"),I=l,N=d("el-table-column"),O=d("el-table"),Q=d("el-pagination"),F=t,T=u("loading");return p(),m("div",null,[c(s,{title:"部门管理",content:"页面数据为 Mock 示例数据，非真实数据。"}),c(F,null,{default:f((()=>[c(n,{type:"primary",icon:"el-icon-plus",onClick:q},{default:f((()=>[$])),_:1}),c(L,null,{default:f((()=>[c(z,{model:A.value.search,size:"small","label-width":"100px","label-suffix":"："},{default:f((()=>[c(M,null,{default:f((()=>[c(x,{span:12},{default:f((()=>[c(k,{label:"部门"},{default:f((()=>[c(r,{modelValue:A.value.search.title,"onUpdate:modelValue":i[0]||(i[0]=e=>A.value.search.title=e),placeholder:"请输入部门，支持模糊查询",clearable:"",onKeydown:v(B,["enter"]),onClear:B},null,8,["modelValue","onKeydown"])])),_:1})])),_:1})])),_:1}),c(k,null,{default:f((()=>[c(n,{type:"primary",icon:"el-icon-search",onClick:B},{default:f((()=>[P])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),A.value.batch.enable?(p(),g(I,{key:0,data:A.value.dataList,"selection-data":A.value.batch.selectionDataList,onCheckAll:i[1]||(i[1]=e=>o.$refs.table.toggleAllSelection()),onCheckNull:i[2]||(i[2]=e=>o.$refs.table.clearSelection())},{default:f((()=>[c(n,{size:"small"},{default:f((()=>[S])),_:1}),c(H,null,{default:f((()=>[c(n,{size:"small"},{default:f((()=>[D])),_:1}),c(n,{size:"small"},{default:f((()=>[V])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):b("v-if",!0),h(c(O,{ref:(e,a)=>{a.table=e},class:"list-table",data:A.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:R,onSelectionChange:i[3]||(i[3]=e=>A.value.batch.selectionDataList=e)},{default:f((()=>[A.value.batch.enable?(p(),g(N,{key:0,type:"selection",width:"40"})):b("v-if",!0),c(N,{prop:"title",label:"部门"}),c(N,{label:"操作",width:"250",align:"center"},{default:f((e=>[c(n,{type:"info",size:"mini",plain:"",onClick:a=>{return l=e.row,void j.push({name:"pagesExampleGeneralJobList",params:{department_id:l.id}});var l}},{default:f((()=>[E])),_:2},1032,["onClick"]),c(n,{type:"primary",size:"mini",plain:"",onClick:a=>{return l=e.row,void("router"===A.value.formMode?j.push({name:"pagesExampleGeneralDepartmentEdit",params:{id:l.id}}):(A.value.formModeProps.id=l.id,A.value.formModeProps.visible=!0));var l}},{default:f((()=>[U])),_:2},1032,["onClick"]),c(n,{type:"danger",size:"mini",plain:"",onClick:a=>{return l=e.row,void y.$confirm(`确认删除「${l.title}」吗？`,"确认信息").then((()=>{y.$api.post("pages_example/department/delete",{id:l.id},{baseURL:"/mock/"}).then((()=>{B(),y.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}));var l}},{default:f((()=>[G])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),[[T,A.value.loading]]),c(Q,{"current-page":_(C).page,total:_(C).total,"page-size":_(C).size,"page-sizes":_(C).sizes,layout:_(C).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:J,onCurrentChange:K},null,8,["current-page","total","page-size","page-sizes","layout"])])),_:1}),["dialog","drawer"].includes(A.value.formMode)?(p(),g(w,{key:0,id:A.value.formModeProps.id,modelValue:A.value.formModeProps.visible,"onUpdate:modelValue":i[4]||(i[4]=e=>A.value.formModeProps.visible=e),mode:A.value.formMode,onSuccess:B},null,8,["id","modelValue","mode"])):b("v-if",!0)])}}}),[["__scopeId","data-v-08e483d2"]]);export{B as default};
