
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{H as e,I as l,r as t,l as a,J as i,L as d,M as o,m as s,n,s as r,S as u,V as c,U as p,R as g,O as f,K as h}from"./vendor.7707186e.js";import{a as m}from"./index.9c2de28b.js";const y={props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],data:()=>({dialog:{index:"",visible:!1,filter:"",checkList:[],disableList:[]}}),computed:{province(){let e;switch(this.dialog.filter){case"":e=m;break;case"autonomousRegion":e=m.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":e=m.filter((e=>e.provinceLevelCity));break;default:e=m.filter((e=>e.region==this.dialog.filter))}return e}},created(){},mounted(){},methods:{showFreightDialog(){this.dialog.index="",this.dialog.checkList=[],this.dialog.disableList=this.getDisableProvinceList(),this.dialog.visible=!0},freightDialogSubmit(e){if(0===this.dialog.checkList.length)this.$message({message:"请勾选区域",type:"warning"});else{let l=this.data;""!==e?l[e].list=this.dialog.checkList:l.push({list:this.dialog.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),this.$emit("update:data",l),this.dialog.visible=!1}},editFreight(e){this.dialog.index=e,this.dialog.checkList=this.data[e].list,this.dialog.disableList=this.getDisableProvinceList(e),this.dialog.visible=!0},deleteFreight(e){let l=this.data;l.splice(e,1),this.$emit("update:data",l)},deleteSingleFreight(e,l){let t=this.data;t[e].list.splice(t[e].list.indexOf(l),1),0===t[e].list.length&&t.splice(e,1),this.$emit("update:data",t)},getProvinceByCode(e){let l="";for(const t in m)m[t].code===e&&(l=m[t].name);return l},getDisableProvinceList(e){let l=[];for(let t=0;t<this.data.length;t++)e!==t&&(l=l.concat(this.data[t].list));return l}}};e("data-v-4c08b2cc");const b={key:0},_=g("编 辑"),k={key:0},v={key:0},w={key:0},V={key:0},L=g("删 除"),x=h("span",null,null,-1),C={key:0,style:{padding:"10px"}},U=g("新增一条运费模版"),z=g("为指定地区设置运费模版"),F={class:"filter"},D=g("全部"),$=g("华北地区"),P=g("东北地区"),S=g("华东地区"),B=g("华中地区"),R=g("华南地区"),j=g("西南地区"),I=g("西北地区"),O=g("自治区"),A=g("直辖市"),H=g("确 定");l(),y.render=function(e,l,m,y,J,K){const M=t("el-tag"),N=t("el-col"),q=t("el-button"),E=t("el-row"),G=t("el-table-column"),Q=t("el-input"),T=t("el-table"),W=t("el-radio-button"),X=t("el-radio-group"),Y=t("el-checkbox"),Z=t("el-checkbox-group"),ee=t("el-dialog");return a(),i("div",null,[m.readonly&&0==m.data.length?u("v-if",!0):d((a(),s(T,{key:0,data:m.data,border:"",class:"freight"},{empty:n((()=>[x])),append:n((()=>[m.readonly?u("v-if",!0):(a(),i("div",C,[r(q,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:K.showFreightDialog},{default:n((()=>[U])),_:1},8,["onClick"])]))])),default:n((()=>[r(G,{label:"运送到"},{default:n((e=>[m.readonly?(a(),i("div",b,[(a(!0),i(c,null,p(e.row.list,((e,l)=>(a(),s(M,{key:l,type:"info"},{default:n((()=>[g(f(K.getProvinceByCode(e)),1)])),_:2},1024)))),128))])):(a(),s(E,{key:1,type:"flex",align:"middle"},{default:n((()=>[r(N,null,{default:n((()=>[(a(!0),i(c,null,p(e.row.list,((l,t)=>(a(),s(M,{key:t,"disable-transitions":!0,type:"info",closable:"",onClose:t=>K.deleteSingleFreight(e.$index,l)},{default:n((()=>[g(f(K.getProvinceByCode(l)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),r(N,{style:{width:"100px","text-align":"right"}},{default:n((()=>[r(q,{size:"small",plain:"",onClick:l=>K.editFreight(e.$index)},{default:n((()=>[_])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),r(G,{label:1==m.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:n((e=>[m.readonly?(a(),i("span",k,f(e.row.first_step),1)):(a(),s(Q,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":l=>e.row.first_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),r(G,{label:"首费（元）",width:"150",align:"center"},{default:n((e=>[m.readonly?(a(),i("span",v,f(e.row.first_price),1)):(a(),s(Q,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":l=>e.row.first_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),r(G,{label:1==m.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:n((e=>[m.readonly?(a(),i("span",w,f(e.row.continued_step),1)):(a(),s(Q,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":l=>e.row.continued_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),r(G,{label:"续费（元）",width:"150",align:"center"},{default:n((e=>[m.readonly?(a(),i("span",V,f(e.row.continued_price),1)):(a(),s(Q,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":l=>e.row.continued_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),m.readonly?u("v-if",!0):(a(),s(G,{key:0,label:"操作",width:"100",align:"center"},{default:n((e=>[r(q,{type:"danger",size:"small",plain:"",onClick:l=>K.deleteFreight(e.$index)},{default:n((()=>[L])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[o,0!=m.data.length]]),m.readonly?u("v-if",!0):d((a(),s(q,{key:1,type:"primary",size:"small",plain:"",onClick:K.showFreightDialog},{default:n((()=>[z])),_:1},8,["onClick"])),[[o,0==m.data.length]]),r(ee,{modelValue:J.dialog.visible,"onUpdate:modelValue":l[3]||(l[3]=e=>J.dialog.visible=e),title:"选择地区",width:"800px",class:"freight-dialog","append-to-body":"",onClosed:l[4]||(l[4]=e=>J.dialog.filter="")},{footer:n((()=>[r(q,{type:"primary",onClick:l[2]||(l[2]=e=>K.freightDialogSubmit(J.dialog.index))},{default:n((()=>[H])),_:1})])),default:n((()=>[h("div",F,[r(X,{modelValue:J.dialog.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>J.dialog.filter=e),size:"small"},{default:n((()=>[r(W,{label:""},{default:n((()=>[D])),_:1}),r(W,{label:"north"},{default:n((()=>[$])),_:1}),r(W,{label:"northeast"},{default:n((()=>[P])),_:1}),r(W,{label:"east"},{default:n((()=>[S])),_:1}),r(W,{label:"central"},{default:n((()=>[B])),_:1}),r(W,{label:"south"},{default:n((()=>[R])),_:1}),r(W,{label:"southwest"},{default:n((()=>[j])),_:1}),r(W,{label:"northwest"},{default:n((()=>[I])),_:1}),r(W,{label:"autonomousRegion"},{default:n((()=>[O])),_:1}),r(W,{label:"provinceLevelCity"},{default:n((()=>[A])),_:1})])),_:1},8,["modelValue"])]),r(Z,{modelValue:J.dialog.checkList,"onUpdate:modelValue":l[1]||(l[1]=e=>J.dialog.checkList=e),style:{"margin-left":"50px"}},{default:n((()=>[r(E,null,{default:n((()=>[(a(!0),i(c,null,p(K.province,((e,l)=>(a(),s(N,{key:l,span:6},{default:n((()=>[r(Y,{label:e.code,disabled:J.dialog.disableList.includes(e.code)},{default:n((()=>[g(f(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])},y.__scopeId="data-v-4c08b2cc";export{y as default};
