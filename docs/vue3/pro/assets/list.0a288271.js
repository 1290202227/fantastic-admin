
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.ffbd20e5.js";import{_ as t}from"./index.173e2cfe.js";import{_ as a}from"./index.9065914f.js";import{_ as o}from"./index.f03e52fd.js";import{H as i,I as l,r as s,an as n,l as r,J as d,s as m,n as p,P as c,m as u,S as h,L as f,R as g}from"./vendor.7707186e.js";import{p as b}from"./pagination.d272f1b1.js";import C from"./index.792c6ef7.js";import"./index.7825a7dc.js";const _={name:"PagesExampleDepartmentList",components:{FormMode:C},mixins:[b],data:()=>({formMode:"dialog",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]}),mounted(){this.getDataList(),"router"===this.formMode&&this.$eventBus.on("get-data-list",(()=>{this.getDataList()}))},beforeUnmount(){"router"===this.formMode&&this.$eventBus.off("get-data-list")},methods:{getDataList(){this.loading=!0;let e=this.getParams();this.search.title&&(e.title=this.search.title),this.$api.get("pages_example/department/list",{baseURL:"/mock/",params:e}).then((e=>{this.loading=!1,this.dataList=e.data.list,this.pagination.total=e.data.total}))},onCreate(){"router"===this.formMode?this.$router.push({name:"pagesExampleGeneralDepartmentCreate"}):(this.formModeProps.id="",this.formModeProps.visible=!0)},onEdit(e){"router"===this.formMode?this.$router.push({name:"pagesExampleGeneralDepartmentEdit",params:{id:e.id}}):(this.formModeProps.id=e.id,this.formModeProps.visible=!0)},onDel(e){this.$confirm(`确认删除「${e.title}」吗？`,"确认信息").then((()=>{this.$api.post("pages_example/department/delete",{id:e.id},{baseURL:"/mock/"}).then((()=>{this.getDataList(),this.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}))},onIntoJob(e){this.$router.push({name:"pagesExampleGeneralJobList",params:{department_id:e.id}})}}};i("data-v-231c6a23");const L=g("新增部门"),k=g("筛 选"),M=g("单个批量操作按钮"),y=g("批量操作按钮组1"),x=g("批量操作按钮组2"),z=g("查看职位"),D=g("编辑"),v=g("删除");l(),_.render=function(i,l,g,b,C,_){const S=e,$=s("el-button"),w=s("el-input"),P=s("el-form-item"),j=s("el-col"),E=s("el-row"),V=s("el-form"),U=t,I=s("el-button-group"),J=a,G=s("el-table-column"),R=s("el-table"),A=s("el-pagination"),B=o,F=s("FormMode"),K=n("loading");return r(),d("div",null,[m(S,{title:"部门管理",content:"页面数据为 Mock 示例数据，非真实数据。"}),m(B,null,{default:p((()=>[m($,{type:"primary",icon:"el-icon-plus",onClick:_.onCreate},{default:p((()=>[L])),_:1},8,["onClick"]),m(U,null,{default:p((()=>[m(V,{model:C.search,size:"small","label-width":"100px","label-suffix":"："},{default:p((()=>[m(E,null,{default:p((()=>[m(j,{span:12},{default:p((()=>[m(P,{label:"部门"},{default:p((()=>[m(w,{modelValue:C.search.title,"onUpdate:modelValue":l[0]||(l[0]=e=>C.search.title=e),placeholder:"请输入部门，支持模糊查询",clearable:"",onKeydown:c(_.getDataList,["enter"]),onClear:_.getDataList},null,8,["modelValue","onKeydown","onClear"])])),_:1})])),_:1})])),_:1}),m(P,null,{default:p((()=>[m($,{type:"primary",icon:"el-icon-search",onClick:_.getDataList},{default:p((()=>[k])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),C.batch.enable?(r(),u(J,{key:0,data:C.dataList,"selection-data":C.batch.selectionDataList,onCheckAll:l[1]||(l[1]=e=>i.$refs.table.toggleAllSelection()),onCheckNull:l[2]||(l[2]=e=>i.$refs.table.clearSelection())},{default:p((()=>[m($,{size:"small"},{default:p((()=>[M])),_:1}),m(I,null,{default:p((()=>[m($,{size:"small"},{default:p((()=>[y])),_:1}),m($,{size:"small"},{default:p((()=>[x])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):h("v-if",!0),f(m(R,{ref:"table",class:"list-table",data:C.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:i.onSortChange,onSelectionChange:l[3]||(l[3]=e=>C.batch.selectionDataList=e)},{default:p((()=>[C.batch.enable?(r(),u(G,{key:0,type:"selection",width:"40"})):h("v-if",!0),m(G,{prop:"title",label:"部门"}),m(G,{label:"操作",width:"250",align:"center"},{default:p((e=>[m($,{type:"info",size:"mini",plain:"",onClick:t=>_.onIntoJob(e.row)},{default:p((()=>[z])),_:2},1032,["onClick"]),m($,{type:"primary",size:"mini",plain:"",onClick:t=>_.onEdit(e.row)},{default:p((()=>[D])),_:2},1032,["onClick"]),m($,{type:"danger",size:"mini",plain:"",onClick:t=>_.onDel(e.row)},{default:p((()=>[v])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSortChange"]),[[K,i.loading]]),m(A,{"current-page":i.pagination.page,total:i.pagination.total,"page-size":i.pagination.size,"page-sizes":i.pagination.sizes,layout:i.pagination.layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:i.onSizeChange,onCurrentChange:i.onCurrentChange},null,8,["current-page","total","page-size","page-sizes","layout","onSizeChange","onCurrentChange"])])),_:1}),["dialog","drawer"].includes(C.formMode)?(r(),u(F,{key:0,id:C.formModeProps.id,modelValue:C.formModeProps.visible,"onUpdate:modelValue":l[4]||(l[4]=e=>C.formModeProps.visible=e),mode:C.formMode,onSuccess:_.getDataList},null,8,["id","modelValue","mode","onSuccess"])):h("v-if",!0)])},_.__scopeId="data-v-231c6a23";export{_ as default};
