
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.d7acb132.js";import{_ as a}from"./index.e91f0465.js";import{_ as l}from"./index.d6dbcd0e.js";import{_ as t}from"./index.6d456c03.js";import{ai as o,a0 as i,$ as s,o as r,a1 as n,r as d,am as u,l as m,H as c,s as f,n as p,Q as v,m as g,L as b,J as h,q as _,M,O as x,S as y,h as C,I as k}from"./vendor.1e0be253.js";import{g as z,p as L,o as j,a as w,b as $}from"./pagination.8d054c1a.js";import P from"./index.cf03caa1.js";import{_ as V}from"./plugin-vue_export-helper.5a098b48.js";import"./index.37aeafac.js";const S=(e=>(M("data-v-c0fb2264"),e=e(),x(),e))((()=>k("p",null,"标准模块的优势之一就是，可根据表单内容量与关联性，快速切换表单展示模式，默认提供了以下三种常见模式",-1))),U=y("路由跳转"),E=y("对话框"),D=y("抽屉"),F=y("新增"),A=y("筛 选"),B=y("单个批量操作按钮"),G=y("批量操作按钮组1"),I=y("批量操作按钮组2"),K=y("编辑"),O=y("删除"),R=o({name:"PagesExampleFormModeList"});var q=V(Object.assign(R,{setup:function(o){const{proxy:M}=C(),x=i(),y=s({loading:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});function k(){y.value.loading=!0;let e=z();y.value.search.title&&(e.title=y.value.search.title),M.$api.get("pages_example/form_mode/list",{baseURL:"/mock/",params:e}).then((e=>{y.value.loading=!1,y.value.dataList=e.data.list,L.value.total=e.data.total}))}function V(e){j(e).then((()=>k()))}function R(e){w(e).then((()=>k()))}function q(e,a){$(e,a).then((()=>k()))}function H(){"router"===y.value.formMode?x.push({name:"pagesExampleGeneralFormModeCreate"}):(y.value.formModeProps.id="",y.value.formModeProps.visible=!0)}return r((()=>{k(),"router"===y.value.formMode&&M.$eventBus.on("get-data-list",(()=>{k()}))})),n((()=>{"router"===y.value.formMode&&M.$eventBus.off("get-data-list")})),(o,i)=>{const s=d("el-radio-button"),r=d("el-radio-group"),n=e,C=d("el-button"),z=d("el-input"),j=d("el-form-item"),w=d("el-col"),$=d("el-row"),J=d("el-form"),N=a,Q=d("el-button-group"),T=l,W=d("el-table-column"),X=d("el-table"),Y=d("el-pagination"),Z=t,ee=u("loading");return m(),c("div",null,[f(n,{title:"表单展示模式"},{content:p((()=>[S,f(r,{modelValue:y.value.formMode,"onUpdate:modelValue":i[0]||(i[0]=e=>y.value.formMode=e),size:"small"},{default:p((()=>[f(s,{label:"router"},{default:p((()=>[U])),_:1}),f(s,{label:"dialog"},{default:p((()=>[E])),_:1}),f(s,{label:"drawer"},{default:p((()=>[D])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(Z,null,{default:p((()=>[f(C,{type:"primary",icon:"el-icon-plus",onClick:H},{default:p((()=>[F])),_:1}),f(N,null,{default:p((()=>[f(J,{model:y.value.search,size:"small","label-width":"100px","label-suffix":"："},{default:p((()=>[f($,null,{default:p((()=>[f(w,{span:12},{default:p((()=>[f(j,{label:"标题"},{default:p((()=>[f(z,{modelValue:y.value.search.title,"onUpdate:modelValue":i[1]||(i[1]=e=>y.value.search.title=e),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:v(k,["enter"]),onClear:k},null,8,["modelValue","onKeydown"])])),_:1})])),_:1})])),_:1}),f(j,null,{default:p((()=>[f(C,{type:"primary",icon:"el-icon-search",onClick:k},{default:p((()=>[A])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),y.value.batch.enable?(m(),g(T,{key:0,data:y.value.dataList,"selection-data":y.value.batch.selectionDataList,onCheckAll:i[2]||(i[2]=e=>o.$refs.table.toggleAllSelection()),onCheckNull:i[3]||(i[3]=e=>o.$refs.table.clearSelection())},{default:p((()=>[f(C,{size:"small"},{default:p((()=>[B])),_:1}),f(Q,null,{default:p((()=>[f(C,{size:"small"},{default:p((()=>[G])),_:1}),f(C,{size:"small"},{default:p((()=>[I])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):b("v-if",!0),h(f(X,{ref:(e,a)=>{a.table=e},class:"list-table",data:y.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:q,onSelectionChange:i[4]||(i[4]=e=>y.value.batch.selectionDataList=e)},{default:p((()=>[y.value.batch.enable?(m(),g(W,{key:0,type:"selection",align:"center",fixed:""})):b("v-if",!0),f(W,{prop:"title",label:"标题"}),f(W,{label:"操作",width:"250",align:"center",fixed:"right"},{default:p((e=>[f(C,{type:"primary",size:"mini",plain:"",onClick:a=>{return l=e.row,void("router"===y.value.formMode?x.push({name:"pagesExampleGeneralFormModeEdit",params:{id:l.id}}):(y.value.formModeProps.id=l.id,y.value.formModeProps.visible=!0));var l}},{default:p((()=>[K])),_:2},1032,["onClick"]),f(C,{type:"danger",size:"mini",plain:"",onClick:a=>{return l=e.row,void M.$confirm(`确认删除「${l.title}」吗？`,"确认信息").then((()=>{M.$api.post("pages_example/form_mode/delete",{id:l.id},{baseURL:"/mock/"}).then((()=>{k(),M.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}));var l}},{default:p((()=>[O])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),[[ee,y.value.loading]]),f(Y,{"current-page":_(L).page,total:_(L).total,"page-size":_(L).size,"page-sizes":_(L).sizes,layout:_(L).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:V,onCurrentChange:R},null,8,["current-page","total","page-size","page-sizes","layout"])])),_:1}),["dialog","drawer"].includes(y.value.formMode)?(m(),g(P,{key:0,id:y.value.formModeProps.id,modelValue:y.value.formModeProps.visible,"onUpdate:modelValue":i[5]||(i[5]=e=>y.value.formModeProps.visible=e),mode:y.value.formMode,onSuccess:k},null,8,["id","modelValue","mode"])):b("v-if",!0)])}}}),[["__scopeId","data-v-c0fb2264"]]);export{q as default};
