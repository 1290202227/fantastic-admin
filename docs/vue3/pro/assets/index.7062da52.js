
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{a as e}from"./index.15daa332.js";import{H as l,I as t,r as a,n as i,J as d,L as o,M as s,k as n,l as r,q as u,S as c,V as p,U as g,R as f,O as h,K as m}from"./vendor.3dac1dfd.js";const y={props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],data:()=>({dialog:{index:"",visible:!1,filter:"",checkList:[],disableList:[]}}),computed:{province(){let l;switch(this.dialog.filter){case"":l=e;break;case"autonomousRegion":l=e.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":l=e.filter((e=>e.provinceLevelCity));break;default:l=e.filter((e=>e.region==this.dialog.filter))}return l}},created(){},mounted(){},methods:{showFreightDialog(){this.dialog.index="",this.dialog.checkList=[],this.dialog.disableList=this.getDisableProvinceList(),this.dialog.visible=!0},freightDialogSubmit(e){if(0===this.dialog.checkList.length)this.$message({message:"请勾选区域",type:"warning"});else{let l=this.data;""!==e?l[e].list=this.dialog.checkList:l.push({list:this.dialog.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),this.$emit("update:data",l),this.dialog.visible=!1}},editFreight(e){this.dialog.index=e,this.dialog.checkList=this.data[e].list,this.dialog.disableList=this.getDisableProvinceList(e),this.dialog.visible=!0},deleteFreight(e){let l=this.data;l.splice(e,1),this.$emit("update:data",l)},deleteSingleFreight(e,l){let t=this.data;t[e].list.splice(t[e].list.indexOf(l),1),0===t[e].list.length&&t.splice(e,1),this.$emit("update:data",t)},getProvinceByCode(l){let t="";for(const a in e)e[a].code===l&&(t=e[a].name);return t},getDisableProvinceList(e){let l=[];for(let t=0;t<this.data.length;t++)e!==t&&(l=l.concat(this.data[t].list));return l}}};l("data-v-4c08b2cc");const b={key:0},_=f("编 辑"),k={key:0},v={key:0},w={key:0},V={key:0},L=f("删 除"),x=m("span",null,null,-1),C={key:0,style:{padding:"10px"}},U=f("新增一条运费模版"),z=f("为指定地区设置运费模版"),F={class:"filter"},D=f("全部"),$=f("华北地区"),P=f("东北地区"),S=f("华东地区"),B=f("华中地区"),R=f("华南地区"),j=f("西南地区"),I=f("西北地区"),O=f("自治区"),q=f("直辖市"),A=f("确 定");t(),y.render=function(e,l,t,y,H,J){const K=a("el-tag"),M=a("el-col"),N=a("el-button"),E=a("el-row"),G=a("el-table-column"),Q=a("el-input"),T=a("el-table"),W=a("el-radio-button"),X=a("el-radio-group"),Y=a("el-checkbox"),Z=a("el-checkbox-group"),ee=a("el-dialog");return i(),d("div",null,[t.readonly&&0==t.data.length?c("v-if",!0):o((i(),n(T,{key:0,data:t.data,border:"",class:"freight"},{empty:r((()=>[x])),append:r((()=>[t.readonly?c("v-if",!0):(i(),d("div",C,[u(N,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:J.showFreightDialog},{default:r((()=>[U])),_:1},8,["onClick"])]))])),default:r((()=>[u(G,{label:"运送到"},{default:r((e=>[t.readonly?(i(),d("div",b,[(i(!0),d(p,null,g(e.row.list,((e,l)=>(i(),n(K,{key:l,type:"info"},{default:r((()=>[f(h(J.getProvinceByCode(e)),1)])),_:2},1024)))),128))])):(i(),n(E,{key:1,type:"flex",align:"middle"},{default:r((()=>[u(M,null,{default:r((()=>[(i(!0),d(p,null,g(e.row.list,((l,t)=>(i(),n(K,{key:t,"disable-transitions":!0,type:"info",closable:"",onClose:t=>J.deleteSingleFreight(e.$index,l)},{default:r((()=>[f(h(J.getProvinceByCode(l)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),u(M,{style:{width:"100px","text-align":"right"}},{default:r((()=>[u(N,{size:"small",plain:"",onClick:l=>J.editFreight(e.$index)},{default:r((()=>[_])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),u(G,{label:1==t.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",k,h(e.row.first_step),1)):(i(),n(Q,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":l=>e.row.first_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(G,{label:"首费（元）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",v,h(e.row.first_price),1)):(i(),n(Q,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":l=>e.row.first_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),u(G,{label:1==t.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",w,h(e.row.continued_step),1)):(i(),n(Q,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":l=>e.row.continued_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(G,{label:"续费（元）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",V,h(e.row.continued_price),1)):(i(),n(Q,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":l=>e.row.continued_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),t.readonly?c("v-if",!0):(i(),n(G,{key:0,label:"操作",width:"100",align:"center"},{default:r((e=>[u(N,{type:"danger",size:"small",plain:"",onClick:l=>J.deleteFreight(e.$index)},{default:r((()=>[L])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[s,0!=t.data.length]]),t.readonly?c("v-if",!0):o((i(),n(N,{key:1,type:"primary",size:"small",plain:"",onClick:J.showFreightDialog},{default:r((()=>[z])),_:1},8,["onClick"])),[[s,0==t.data.length]]),u(ee,{modelValue:H.dialog.visible,"onUpdate:modelValue":l[3]||(l[3]=e=>H.dialog.visible=e),title:"选择地区",width:"800px",class:"freight-dialog","append-to-body":"",onClosed:l[4]||(l[4]=e=>H.dialog.filter="")},{footer:r((()=>[u(N,{type:"primary",onClick:l[2]||(l[2]=e=>J.freightDialogSubmit(H.dialog.index))},{default:r((()=>[A])),_:1})])),default:r((()=>[m("div",F,[u(X,{modelValue:H.dialog.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>H.dialog.filter=e),size:"small"},{default:r((()=>[u(W,{label:""},{default:r((()=>[D])),_:1}),u(W,{label:"north"},{default:r((()=>[$])),_:1}),u(W,{label:"northeast"},{default:r((()=>[P])),_:1}),u(W,{label:"east"},{default:r((()=>[S])),_:1}),u(W,{label:"central"},{default:r((()=>[B])),_:1}),u(W,{label:"south"},{default:r((()=>[R])),_:1}),u(W,{label:"southwest"},{default:r((()=>[j])),_:1}),u(W,{label:"northwest"},{default:r((()=>[I])),_:1}),u(W,{label:"autonomousRegion"},{default:r((()=>[O])),_:1}),u(W,{label:"provinceLevelCity"},{default:r((()=>[q])),_:1})])),_:1},8,["modelValue"])]),u(Z,{modelValue:H.dialog.checkList,"onUpdate:modelValue":l[1]||(l[1]=e=>H.dialog.checkList=e),style:{"margin-left":"50px"}},{default:r((()=>[u(E,null,{default:r((()=>[(i(!0),d(p,null,g(J.province,((e,l)=>(i(),n(M,{key:l,span:6},{default:r((()=>[u(Y,{label:e.code,disabled:H.dialog.disableList.includes(e.code)},{default:r((()=>[f(h(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])},y.__scopeId="data-v-4c08b2cc";export{y as default};
