
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{H as a,I as e,$ as t,k as l,o as n,ag as o,r as s,l as d,J as p,s as i,n as c,K as r,O as g,Z as u,q as m,S as f}from"./vendor.7707186e.js";import{_ as h}from"./index.f03e52fd.js";a("data-v-6ebfa04b");const v={class:"map"},y={class:"search-name"},A=["title"];e();const b={props:{v:{type:String,default:"1.4.15"},appkey:{type:String,default:""},height:{type:[Number,String],default:500},lnglat:{type:Array,default:()=>[]}},emits:["update:lnglat"],setup(a,{emit:e}){const f=a,h=t("");let b="",M="",k="";const _=l((()=>"string"==typeof f.height?f.height:`${f.height}px`));function w(){b=new AMap.Map("amap",{zoom:12}),AMap.plugin("AMap.ToolBar",(()=>{let a=new AMap.ToolBar;b.addControl(a)})),M=new AMap.Marker({draggable:!0,cursor:"move"}),M.on("dragend",(a=>{e("update:lnglat",[a.lnglat.lng,a.lnglat.lat])})),k=new AMap.Autocomplete,b.on("click",(a=>{x(a.lnglat.getLng(),a.lnglat.getLat())})),2==f.lnglat.length&&x(f.lnglat[0],f.lnglat[1])}function x(a,t){b.remove(M),M.setPosition([a,t]),b.add(M),b.setFitView(),e("update:lnglat",[a,t])}function S(a,e){k.search(a,((a,t)=>{e(t.tips)}))}function $(a){h.value=a.name,a.location?x(a.location.lng,a.location.lat):b.setCity(a.adcode)}return n((()=>{if("undefined"==typeof AMap){let a=document.createElement("script");a.charset="UTF-8",a.src=`https://webapi.amap.com/maps?v=${f.v}&key=${f.appkey}&plugin=AMap.Autocomplete`,document.head.appendChild(a),a.onload=()=>{w()}}else o((()=>{w()}))})),(a,e)=>{const t=s("el-autocomplete");return d(),p("div",v,[i(t,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=a=>h.value=a),class:"search","fetch-suggestions":S,"trigger-on-focus":!1,clearable:"","prefix-icon":"el-icon-location-information",placeholder:"请输入地址关键字",onSelect:$},{default:c((({item:a})=>[r("div",y,g(a.name),1),r("span",{class:"search-address",title:a.district+a.address},g(a.district+a.address),9,A)])),_:1},8,["modelValue"]),r("div",{id:"amap",style:u(`height:${m(_)};`)},null,4)])}},__scopeId:"data-v-6ebfa04b"};const M={name:"ComponentExampleAmap",props:{},data:()=>({lnglat:[120.068384,30.290939]}),created(){},mounted(){},methods:{}};M.render=function(a,e,t,l,n,o){const s=b,u=h;return d(),p("div",null,[i(u,null,{default:c((()=>[r("div",null,"经纬度："+g(n.lnglat),1),f(" 注意这里替换高德地图的appkey "),i(s,{lnglat:n.lnglat,"onUpdate:lnglat":e[0]||(e[0]=a=>n.lnglat=a),appkey:"8f7844cc502e17bb549c04c9aaadaf94",height:600},null,8,["lnglat"])])),_:1})])},M.__scopeId="data-v-3c373116";export{M as default};
