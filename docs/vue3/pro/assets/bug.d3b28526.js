
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.c1f75aed.js";import{_ as r}from"./index.29752973.js";import{r as t,o,z as l,i as n,w as i,A as s,F as d,I as u}from"./vendor.b5a7373b.js";const g={data:()=>({env:"example",errorLog:""}),computed:{errorLogInfo(){return this.errorLog?[JSON.parse(this.errorLog)]:[]}},methods:{bugTest(e){switch(this.$nextTick((()=>{this.errorLog=sessionStorage.getItem("errorLog")})),e){case 1:this.a=a;break;case 2:this.testMethod()}},open(e){window.open(e,"top")}}},c=u("Vue errorHandler 说明"),p={key:0},f={key:0},h={key:1},b=u("模拟触发错误1"),m=u("模拟触发错误2"),w={style:{"white-space":"pre-wrap"}},_={key:1};g.render=function(a,g,k,v,y,L){const j=t("el-button"),x=e,I=t("el-tag"),T=t("el-table-column"),C=t("el-link"),H=t("el-table"),S=r;return o(),l("div",null,[n(x,{title:"错误日志",content:"错误日志通过 Vue 提供的全局错误钩子 errorHandler 进行拦截，如果需要上报给后端，需自行实现"},{default:i((()=>[n(j,{icon:"el-icon-link",onClick:g[0]||(g[0]=e=>L.open("https://v3.cn.vuejs.org/api/application-config.html#errorhandler"))},{default:i((()=>[c])),_:1})])),_:1}),n(S,null,{default:i((()=>["development"!=y.env?(o(),l("div",p,[a.$store.state.settings.enableErrorLog?(o(),l("div",h,[n(j,{type:"danger",onClick:g[1]||(g[1]=e=>L.bugTest(1))},{default:i((()=>[b])),_:1}),n(j,{type:"danger",onClick:g[2]||(g[2]=e=>L.bugTest(2))},{default:i((()=>[m])),_:1}),n(H,{data:L.errorLogInfo,border:""},{default:i((()=>[n(T,{label:"错误信息",width:"200",align:"center"},{default:i((e=>[s("div",null,d(e.row.err.message),1),n(I,{type:"danger"},{default:i((()=>[u(d(e.row.info),1)])),_:2},1024)])),_:1}),n(T,{label:"错误详情"},{default:i((e=>[s("div",w,d(e.row.err.stack),1)])),_:1}),n(T,{label:"错误链接",width:"200",align:"center"},{default:i((e=>[n(C,{href:e.row.url,target:"_blank"},{default:i((()=>[u(d(e.row.url),1)])),_:2},1032,["href"])])),_:1}),n(T,{prop:"datetime",label:"时间",width:"200",align:"center"})])),_:1},8,["data"])])):(o(),l("div",f,"请到 seeting.js 里打开错误日志功能，再进入该页面查看演示"))])):(o(),l("div",_,"当前为开发环境，该功能关闭演示"))])),_:1})])};export{g as default};
