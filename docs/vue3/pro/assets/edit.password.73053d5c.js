
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as b}from"./index.ebf37102.js";import{_ as x}from"./index.cc6d1ed1.js";import{_ as V}from"./index.a912659c.js";import{_ as v}from"./plugin-vue_export-helper.5a098b48.js";import{r as t,m as k,Q as y,t as e,q as o,Y as j}from"./vendor.4daee5e9.js";const q={data(){return{form:{password:"",newpassword:"",checkpassword:""},rules:{password:[{required:!0,message:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801",trigger:"blur"}],newpassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}],checkpassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{validator:(r,m,a)=>{m!==this.form.newpassword?a(new Error("\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801")):a()}}]}}},methods:{onSubmit(){this.$refs.form.validate(n=>{n&&this.$store.dispatch("user/editPassword",this.form).then(()=>{this.$message({type:"success",message:"\u4FEE\u6539\u6210\u529F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"}),this.$store.dispatch("user/logout").then(()=>{this.$router.push("/login")})}).catch(()=>{})})}}},C=j("\u63D0\u4EA4");function P(n,r,m,a,s,u){const _=V,p=t("el-input"),d=t("el-form-item"),i=t("el-form"),c=t("el-col"),f=t("el-row"),w=x,g=t("el-button"),h=b;return k(),y("div",null,[e(_,{title:"\u4FEE\u6539\u5BC6\u7801",content:"\u5B9A\u671F\u4FEE\u6539\u5BC6\u7801\u53EF\u4EE5\u63D0\u9AD8\u5E10\u53F7\u5B89\u5168\u6027\u5662~"}),e(w,null,{default:o(()=>[e(f,null,{default:o(()=>[e(c,{md:24,lg:12},{default:o(()=>[e(i,{ref:"form",model:s.form,rules:s.rules,"label-width":"120px"},{default:o(()=>[e(d,{label:"\u539F\u5BC6\u7801",prop:"password"},{default:o(()=>[e(p,{modelValue:s.form.password,"onUpdate:modelValue":r[0]||(r[0]=l=>s.form.password=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u65B0\u5BC6\u7801",prop:"newpassword"},{default:o(()=>[e(p,{modelValue:s.form.newpassword,"onUpdate:modelValue":r[1]||(r[1]=l=>s.form.newpassword=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",prop:"checkpassword"},{default:o(()=>[e(p,{modelValue:s.form.checkpassword,"onUpdate:modelValue":r[2]||(r[2]=l=>s.form.checkpassword=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),e(h,null,{default:o(()=>[e(g,{type:"primary",onClick:u.onSubmit},{default:o(()=>[C]),_:1},8,["onClick"])]),_:1})])}var Q=v(q,[["render",P]]);export{Q as default};
