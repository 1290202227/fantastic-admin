
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.ffbd20e5.js";import{_ as a}from"./index.173e2cfe.js";import{_ as t}from"./index.9065914f.js";import{_ as o}from"./index.f03e52fd.js";import{H as l,I as i,r as s,an as n,l as r,J as d,s as m,n as u,P as p,m as f,S as c,L as h,K as g,R as b}from"./vendor.7707186e.js";import{p as _}from"./pagination.d272f1b1.js";import C from"./index.ec4838c9.js";import"./index.81fe7a0e.js";const M={name:"PagesExampleFormModeList",components:{FormMode:C},mixins:[_],data:()=>({formMode:"router",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]}),mounted(){this.getDataList(),"router"===this.formMode&&this.$eventBus.on("get-data-list",(()=>{this.getDataList()}))},beforeUnmount(){"router"===this.formMode&&this.$eventBus.off("get-data-list")},methods:{getDataList(){this.loading=!0;let e=this.getParams();this.search.title&&(e.title=this.search.title),this.$api.get("pages_example/form_mode/list",{baseURL:"/mock/",params:e}).then((e=>{this.loading=!1,this.dataList=e.data.list,this.pagination.total=e.data.total}))},onCreate(){"router"===this.formMode?this.$router.push({name:"pagesExampleGeneralFormModeCreate"}):(this.formModeProps.id="",this.formModeProps.visible=!0)},onEdit(e){"router"===this.formMode?this.$router.push({name:"pagesExampleGeneralFormModeEdit",params:{id:e.id}}):(this.formModeProps.id=e.id,this.formModeProps.visible=!0)},onDel(e){this.$confirm(`确认删除「${e.title}」吗？`,"确认信息").then((()=>{this.$api.post("pages_example/form_mode/delete",{id:e.id},{baseURL:"/mock/"}).then((()=>{this.getDataList(),this.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}))}}};l("data-v-fa0da316");const L=g("p",null,"标准模块的优势之一就是，可根据表单内容量与关联性，快速切换表单展示模式，默认提供了以下三种常见模式",-1),x=b("路由跳转"),k=b("对话框"),y=b("抽屉"),z=b("新增"),v=b("筛 选"),D=b("单个批量操作按钮"),S=b("批量操作按钮组1"),P=b("批量操作按钮组2"),$=b("编辑"),w=b("删除");i(),M.render=function(l,i,g,b,_,C){const M=s("el-radio-button"),V=s("el-radio-group"),j=e,E=s("el-button"),U=s("el-input"),F=s("el-form-item"),K=s("el-col"),R=s("el-row"),A=s("el-form"),B=a,G=s("el-button-group"),I=t,H=s("el-table-column"),J=s("el-table"),N=s("el-pagination"),q=o,O=s("FormMode"),Q=n("loading");return r(),d("div",null,[m(j,{title:"表单展示模式"},{content:u((()=>[L,m(V,{modelValue:_.formMode,"onUpdate:modelValue":i[0]||(i[0]=e=>_.formMode=e),size:"small"},{default:u((()=>[m(M,{label:"router"},{default:u((()=>[x])),_:1}),m(M,{label:"dialog"},{default:u((()=>[k])),_:1}),m(M,{label:"drawer"},{default:u((()=>[y])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(q,null,{default:u((()=>[m(E,{type:"primary",icon:"el-icon-plus",onClick:C.onCreate},{default:u((()=>[z])),_:1},8,["onClick"]),m(B,null,{default:u((()=>[m(A,{model:_.search,size:"small","label-width":"100px","label-suffix":"："},{default:u((()=>[m(R,null,{default:u((()=>[m(K,{span:12},{default:u((()=>[m(F,{label:"标题"},{default:u((()=>[m(U,{modelValue:_.search.title,"onUpdate:modelValue":i[1]||(i[1]=e=>_.search.title=e),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:p(C.getDataList,["enter"]),onClear:C.getDataList},null,8,["modelValue","onKeydown","onClear"])])),_:1})])),_:1})])),_:1}),m(F,null,{default:u((()=>[m(E,{type:"primary",icon:"el-icon-search",onClick:C.getDataList},{default:u((()=>[v])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),_.batch.enable?(r(),f(I,{key:0,data:_.dataList,"selection-data":_.batch.selectionDataList,onCheckAll:i[2]||(i[2]=e=>l.$refs.table.toggleAllSelection()),onCheckNull:i[3]||(i[3]=e=>l.$refs.table.clearSelection())},{default:u((()=>[m(E,{size:"small"},{default:u((()=>[D])),_:1}),m(G,null,{default:u((()=>[m(E,{size:"small"},{default:u((()=>[S])),_:1}),m(E,{size:"small"},{default:u((()=>[P])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):c("v-if",!0),h(m(J,{ref:"table",class:"list-table",data:_.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:l.onSortChange,onSelectionChange:i[4]||(i[4]=e=>_.batch.selectionDataList=e)},{default:u((()=>[_.batch.enable?(r(),f(H,{key:0,type:"selection",align:"center",fixed:""})):c("v-if",!0),m(H,{prop:"title",label:"标题"}),m(H,{label:"操作",width:"250",align:"center",fixed:"right"},{default:u((e=>[m(E,{type:"primary",size:"mini",plain:"",onClick:a=>C.onEdit(e.row)},{default:u((()=>[$])),_:2},1032,["onClick"]),m(E,{type:"danger",size:"mini",plain:"",onClick:a=>C.onDel(e.row)},{default:u((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSortChange"]),[[Q,l.loading]]),m(N,{"current-page":l.pagination.page,total:l.pagination.total,"page-size":l.pagination.size,"page-sizes":l.pagination.sizes,layout:l.pagination.layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:l.onSizeChange,onCurrentChange:l.onCurrentChange},null,8,["current-page","total","page-size","page-sizes","layout","onSizeChange","onCurrentChange"])])),_:1}),["dialog","drawer"].includes(_.formMode)?(r(),f(O,{key:0,id:_.formModeProps.id,modelValue:_.formModeProps.visible,"onUpdate:modelValue":i[5]||(i[5]=e=>_.formModeProps.visible=e),mode:_.formMode,onSuccess:C.getDataList},null,8,["id","modelValue","mode","onSuccess"])):c("v-if",!0)])},M.__scopeId="data-v-fa0da316";export{M as default};
