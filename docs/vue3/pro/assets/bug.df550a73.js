
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.ffbd20e5.js";import{_ as r}from"./index.f03e52fd.js";import{r as t,l as o,J as l,s as n,n as s,K as i,O as d,R as u}from"./vendor.7707186e.js";const f={data:()=>({env:"example",errorLog:""}),computed:{errorLogInfo(){return this.errorLog?[JSON.parse(this.errorLog)]:[]}},methods:{bugTest(e){switch(this.$nextTick((()=>{this.errorLog=sessionStorage.getItem("errorLog")})),e){case 1:this.a=a;break;case 2:this.testMethod()}},open(e){window.open(e,"top")}}},g=u("Vue errorHandler 说明"),p={key:0},c={key:0},h={key:1},b=u("模拟触发错误1"),m=u("模拟触发错误2"),_={style:{"white-space":"pre-wrap"}},k={key:1};f.render=function(a,f,v,w,y,L){const j=t("el-button"),x=e,T=t("el-tag"),C=t("el-table-column"),I=t("el-link"),H=t("el-table"),J=r;return o(),l("div",null,[n(x,{title:"错误日志",content:"错误日志通过 Vue 提供的全局错误钩子 errorHandler 进行拦截，如果需要上报给后端，需自行实现"},{default:s((()=>[n(j,{icon:"el-icon-link",onClick:f[0]||(f[0]=e=>L.open("https://v3.cn.vuejs.org/api/application-config.html#errorhandler"))},{default:s((()=>[g])),_:1})])),_:1}),n(J,null,{default:s((()=>["development"!=y.env?(o(),l("div",p,[a.$store.state.settings.enableErrorLog?(o(),l("div",h,[n(j,{type:"danger",onClick:f[1]||(f[1]=e=>L.bugTest(1))},{default:s((()=>[b])),_:1}),n(j,{type:"danger",onClick:f[2]||(f[2]=e=>L.bugTest(2))},{default:s((()=>[m])),_:1}),n(H,{data:L.errorLogInfo,border:""},{default:s((()=>[n(C,{label:"错误信息",width:"200",align:"center"},{default:s((e=>[i("div",null,d(e.row.err.message),1),n(T,{type:"danger"},{default:s((()=>[u(d(e.row.info),1)])),_:2},1024)])),_:1}),n(C,{label:"错误详情"},{default:s((e=>[i("div",_,d(e.row.err.stack),1)])),_:1}),n(C,{label:"错误链接",width:"200",align:"center"},{default:s((e=>[n(I,{href:e.row.url,target:"_blank"},{default:s((()=>[u(d(e.row.url),1)])),_:2},1032,["href"])])),_:1}),n(C,{prop:"datetime",label:"时间",width:"200",align:"center"})])),_:1},8,["data"])])):(o(),l("div",c,"请到 seeting.js 里打开错误日志功能，再进入该页面查看演示"))])):(o(),l("div",k,"当前为开发环境，该功能关闭演示"))])),_:1})])};export{f as default};
