
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.d7acb132.js";import{c as s,e as r}from"./index.e4e8dab3.js";import{l as i,H as o,X as t,r as a,am as n,s as l,n as u,I as p,P as m,J as d,S as c}from"./vendor.1e0be253.js";import{_ as b}from"./index.6d456c03.js";import{_ as h}from"./plugin-vue_export-helper.5a098b48.js";const f={props:{value:{type:[String,Array],default:""}},setup(e){const r=e;return(e,a)=>(i(),o("div",null,[s(r.value)?t(e.$slots,"default",{key:0}):t(e.$slots,"no-auth",{key:1})]))}},g={props:{value:{type:Array,default:()=>[]}},setup(e){const s=e;return(e,a)=>(i(),o("div",null,[r(s.value)?t(e.$slots,"default",{key:0}):t(e.$slots,"no-auth",{key:1})]))}},v={data(){return{account:this.$store.state.user.account}},methods:{accountChange(e){this.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),this.$store.dispatch("user/login",{account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))},permissionCheck(e){this.$auth(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")},permissionCheck2(e){this.$authAll(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")}}},_={key:0},w={key:1},k=p("h3",null,"切换帐号",-1),y=p("h3",null,"帐号权限",-1),$=p("h3",null,"鉴权组件（请对照代码查看）",-1),C=c("你有 permission.browse 权限"),x=c("你没有 permission.browse 权限"),j=c("你有 permission.create 权限"),A=c("你没有 permission.create 权限"),V=c("你有 permission.browse 或 permission.create 权限"),P=c("你没有 permission.browse 或 permission.create 权限"),S=c("你有 permission.browse 和 permission.create 权限"),H=c("你没有 permission.browse 和 permission.create 权限"),I=p("h3",null,"鉴权指令（请对照代码查看）",-1),J=[c(" 如果你有 permission.browse 权限则能看到这句话 ")],T=[c(" 如果你有 permission.create 权限则能看到这句话 ")],U=[c(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],X=[c(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],q=p("h3",null,"鉴权函数（请对照代码查看）",-1),z=c("校验 permission.browse 权限"),B=c("校验 permission.create 权限"),D=c("校验 permission.browse 或 permission.create 权限"),E=c("校验 permission.browse 和 permission.create 权限");var F=h(v,[["render",function(s,r,t,c,h,v){const F=e,G=a("el-radio-button"),K=a("el-radio-group"),L=a("el-tag"),M=f,N=g,O=a("el-button"),Q=a("el-button-group"),R=b,W=n("auth"),Y=n("auth-all");return i(),o("div",null,[l(F,{title:"权限验证"}),l(R,null,{default:u((()=>[s.$store.state.settings.enablePermission?(i(),o("div",w,[k,l(K,{modelValue:h.account,"onUpdate:modelValue":r[0]||(r[0]=e=>h.account=e),onChange:v.accountChange},{default:u((()=>[l(G,{label:"admin"}),l(G,{label:"test"})])),_:1},8,["modelValue","onChange"]),y,p("div",null,m(s.$store.state.user.permissions),1),$,p("div",null,[l(M,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(L,{type:"danger"},{default:u((()=>[x])),_:1})])),default:u((()=>[l(L,null,{default:u((()=>[C])),_:1})])),_:1}),l(M,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(L,{type:"danger"},{default:u((()=>[A])),_:1})])),default:u((()=>[l(L,null,{default:u((()=>[j])),_:1})])),_:1}),l(M,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(L,{type:"danger"},{default:u((()=>[P])),_:1})])),default:u((()=>[l(L,null,{default:u((()=>[V])),_:1})])),_:1},8,["value"]),l(N,{value:["permission.browse","permission.create"]},{"no-auth":u((()=>[l(L,{type:"danger"},{default:u((()=>[H])),_:1})])),default:u((()=>[l(L,null,{default:u((()=>[S])),_:1})])),_:1},8,["value"])]),I,p("div",null,[d(p("div",null,J,512),[[W,"permission.browse"]]),d(p("div",null,T,512),[[W,"permission.create"]]),d(p("div",null,U,512),[[W,["permission.browse","permission.create"]]]),d(p("div",null,X,512),[[Y,["permission.browse","permission.create"]]])]),q,p("div",null,[l(Q,{style:{display:"block","margin-bottom":"10px"}},{default:u((()=>[l(O,{onClick:r[1]||(r[1]=e=>v.permissionCheck("permission.browse"))},{default:u((()=>[z])),_:1}),l(O,{onClick:r[2]||(r[2]=e=>v.permissionCheck("permission.create"))},{default:u((()=>[B])),_:1})])),_:1}),l(Q,null,{default:u((()=>[l(O,{onClick:r[3]||(r[3]=e=>v.permissionCheck(["permission.browse","permission.create"]))},{default:u((()=>[D])),_:1}),l(O,{onClick:r[4]||(r[4]=e=>v.permissionCheck2(["permission.browse","permission.create"]))},{default:u((()=>[E])),_:1})])),_:1})])])):(i(),o("div",_,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}]]);export{F as default};
