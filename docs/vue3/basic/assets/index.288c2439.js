
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.1ee7394a.js";import{a as s,b as r}from"./index.5f11822c.js";import{o as i,k as t,L as o,r as n,Y as a,n as l,q as u,l as m,x as p,w as c,A as d}from"./vendor.e2e92bee.js";import{_ as h}from"./index.e2b18078.js";const b={name:"Auth",props:{value:{type:[String,Array],default:""}},methods:{check(){return s(this.value)}}};b.render=function(e,s,r,n,a,l){return i(),t("div",null,[l.check()?o(e.$slots,"default",{key:0}):o(e.$slots,"no-auth",{key:1})])};const f={name:"AuthAll",props:{value:{type:Array,default:()=>[]}},methods:{check(){return r(this.value)}}};f.render=function(e,s,r,n,a,l){return i(),t("div",null,[l.check()?o(e.$slots,"default",{key:0}):o(e.$slots,"no-auth",{key:1})])};const g={data(){return{account:this.$store.state.user.account}},methods:{accountChange(e){this.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),this.$store.dispatch("user/login",{account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))},permissionCheck(e){this.$auth(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")},permissionCheck2(e){this.$authAll(e)?this.$message.success("校验通过"):this.$message.error("校验不通过")}}},k={key:0},v={key:1},w=m("h3",null,"切换帐号",-1),_=m("h3",null,"帐号权限",-1),y=m("h3",null,"鉴权组件（请对照代码查看）",-1),$=d("你有 permission.browse 权限"),C=d("你没有 permission.browse 权限"),x=d("你有 permission.create 权限"),A=d("你没有 permission.create 权限"),j=d("你有 permission.browse 或 permission.create 权限"),V=d("你没有 permission.browse 或 permission.create 权限"),q=d("你有 permission.browse 和 permission.create 权限"),L=d("你没有 permission.browse 和 permission.create 权限"),P=m("h3",null,"鉴权指令（请对照代码查看）",-1),S=[d(" 如果你有 permission.browse 权限则能看到这句话 ")],T=[d(" 如果你有 permission.create 权限则能看到这句话 ")],U=[d(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],Y=[d(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],z=m("h3",null,"鉴权函数（请对照代码查看）",-1),B=d("校验 permission.browse 权限"),D=d("校验 permission.create 权限"),E=d("校验 permission.browse 或 permission.create 权限"),F=d("校验 permission.browse 和 permission.create 权限");g.render=function(s,r,o,d,g,G){const H=e,I=n("el-radio-button"),J=n("el-radio-group"),K=n("el-tag"),M=b,N=f,O=n("el-button"),Q=n("el-button-group"),R=h,W=a("auth"),X=a("auth-all");return i(),t("div",null,[l(H,{title:"权限验证"}),l(R,null,{default:u((()=>[s.$store.state.settings.enablePermission?(i(),t("div",v,[w,l(J,{modelValue:g.account,"onUpdate:modelValue":r[0]||(r[0]=e=>g.account=e),onChange:G.accountChange},{default:u((()=>[l(I,{label:"admin"}),l(I,{label:"test"})])),_:1},8,["modelValue","onChange"]),_,m("div",null,p(s.$store.state.user.permissions),1),y,m("div",null,[l(M,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(K,{type:"danger"},{default:u((()=>[C])),_:1})])),default:u((()=>[l(K,null,{default:u((()=>[$])),_:1})])),_:1}),l(M,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(K,{type:"danger"},{default:u((()=>[A])),_:1})])),default:u((()=>[l(K,null,{default:u((()=>[x])),_:1})])),_:1}),l(M,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[l(K,{type:"danger"},{default:u((()=>[V])),_:1})])),default:u((()=>[l(K,null,{default:u((()=>[j])),_:1})])),_:1},8,["value"]),l(N,{value:["permission.browse","permission.create"]},{"no-auth":u((()=>[l(K,{type:"danger"},{default:u((()=>[L])),_:1})])),default:u((()=>[l(K,null,{default:u((()=>[q])),_:1})])),_:1},8,["value"])]),P,m("div",null,[c(m("div",null,S,512),[[W,"permission.browse"]]),c(m("div",null,T,512),[[W,"permission.create"]]),c(m("div",null,U,512),[[W,["permission.browse","permission.create"]]]),c(m("div",null,Y,512),[[X,["permission.browse","permission.create"]]])]),z,m("div",null,[l(Q,{style:{display:"block","margin-bottom":"10px"}},{default:u((()=>[l(O,{onClick:r[1]||(r[1]=e=>G.permissionCheck("permission.browse"))},{default:u((()=>[B])),_:1}),l(O,{onClick:r[2]||(r[2]=e=>G.permissionCheck("permission.create"))},{default:u((()=>[D])),_:1})])),_:1}),l(Q,null,{default:u((()=>[l(O,{onClick:r[3]||(r[3]=e=>G.permissionCheck(["permission.browse","permission.create"]))},{default:u((()=>[E])),_:1}),l(O,{onClick:r[4]||(r[4]=e=>G.permissionCheck2(["permission.browse","permission.create"]))},{default:u((()=>[F])),_:1})])),_:1})])])):(i(),t("div",k,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])};export{g as default};
