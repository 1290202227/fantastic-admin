
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.d0cc88c3.js";import{_ as r}from"./index.34d43001.js";import{_ as s}from"./index.518ccf2d.js";import{r as o,a as l,s as a,y as d,z as t,F as u}from"./vendor.ebf75cd4.js";const m={data(){return{form:{password:"",newpassword:"",checkpassword:""},rules:{password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:(e,r,s)=>{r!==this.form.newpassword?s(new Error("请确认新密码")):s()}}]}}},methods:{onSubmit(){this.$refs.form.validate((e=>{e&&this.$store.dispatch("user/editPassword",this.form).then((()=>{this.$message({type:"success",message:"修改成功，请重新登录"}),this.$store.dispatch("user/logout").then((()=>{this.$router.push("/login")}))})).catch((()=>{}))}))}}},p=u("提交");m.render=function(u,m,n,i,f,c){const w=e,h=o("el-input"),g=o("el-form-item"),b=o("el-form"),_=o("el-col"),V=o("el-row"),k=r,y=o("el-button"),x=s;return l(),a("div",null,[d(w,{title:"修改密码",content:"定期修改密码可以提高帐号安全性噢~"}),d(k,null,{default:t((()=>[d(V,null,{default:t((()=>[d(_,{md:24,lg:12},{default:t((()=>[d(b,{ref:"form",model:f.form,rules:f.rules,"label-width":"120px"},{default:t((()=>[d(g,{label:"原密码",prop:"password"},{default:t((()=>[d(h,{modelValue:f.form.password,"onUpdate:modelValue":m[0]||(m[0]=e=>f.form.password=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1}),d(g,{label:"新密码",prop:"newpassword"},{default:t((()=>[d(h,{modelValue:f.form.newpassword,"onUpdate:modelValue":m[1]||(m[1]=e=>f.form.newpassword=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1}),d(g,{label:"确认新密码",prop:"checkpassword"},{default:t((()=>[d(h,{modelValue:f.form.checkpassword,"onUpdate:modelValue":m[2]||(m[2]=e=>f.form.checkpassword=e),type:"password",placeholder:"请输入原密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})])),_:1}),d(x,null,{default:t((()=>[d(y,{type:"primary",onClick:c.onSubmit},{default:t((()=>[p])),_:1},8,["onClick"])])),_:1})])};export{m as default};
