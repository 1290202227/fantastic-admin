
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.e25e8707.js";import{_ as o}from"./index.b8821faf.js";import{r as a,k as t,l,w as r,v as s,n,q as i,c as d,s as m,t as p,u as c,o as u,x as g,y as f,z as h,A as w}from"./vendor.e2e92bee.js";const y={name:"Login",data:()=>({title:"Fantastic-admin 基础版",formType:"login",loginForm:{account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account},loginRules:{account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]},resetForm:{account:localStorage.login_account||"",captcha:"",newPassword:""},resetRules:{account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]},loading:!1,passwordType:"password",redirect:void 0}),watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPassword(){this.passwordType="password"===this.passwordType?"":"password",this.$nextTick((()=>{this.$refs.password.focus()}))},handleLogin(){this.$refs.loginForm.validate((e=>{e&&(this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((()=>{this.loading=!1,this.loginForm.remember?localStorage.setItem("login_account",this.loginForm.account):localStorage.removeItem("login_account"),this.$router.push({path:this.redirect||"/"})})).catch((()=>{this.loading=!1})))}))},handleFind(){this.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),this.$refs.resetForm.validate((e=>{}))},testAccount(e){this.loginForm.account=e,this.loginForm.password="123456",this.handleLogin()}}};p("data-v-deb3524e");const x=l("div",{class:"bg-banner"},null,-1),_={id:"login-box"},b=l("div",{class:"login-banner"},null,-1),F={class:"title-container"},v={class:"title"},V={class:"flex-bar"},k=w("记住我"),C=w("忘记密码"),T=w("登 录"),P={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},$=l("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1),q=w("admin"),U=w("test"),L=l("div",{class:"title-container"},[l("h3",{class:"title"},"重置密码")],-1),S=w("发送验证码"),z=w("去登录"),A=w("确 认");c(),y.render=function(p,c,w,y,R,j){const I=e,K=a("el-input"),B=a("el-form-item"),D=a("el-checkbox"),E=a("el-button"),G=a("el-form"),H=a("el-col"),J=a("el-row"),M=o;return u(),t("div",null,[x,l("div",_,[b,r(n(G,{ref:"loginForm",model:R.loginForm,rules:R.loginRules,class:"login-form",autocomplete:"on","label-position":"left"},{default:i((()=>[l("div",F,[l("h3",v,g(R.title)+"管理后台",1)]),l("div",null,[n(B,{prop:"account"},{default:i((()=>[n(K,{ref:"name",modelValue:R.loginForm.account,"onUpdate:modelValue":c[0]||(c[0]=e=>R.loginForm.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:i((()=>[n(I,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),n(B,{prop:"password"},{default:i((()=>[n(K,{ref:"password",modelValue:R.loginForm.password,"onUpdate:modelValue":c[1]||(c[1]=e=>R.loginForm.password=e),type:R.passwordType,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:f(j.handleLogin,["enter"])},{prefix:i((()=>[n(I,{name:"password"})])),suffix:i((()=>[n(I,{name:"password"===R.passwordType?"eye":"eye-open",onClick:j.showPassword},null,8,["name","onClick"])])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),l("div",V,[n(D,{modelValue:R.loginForm.remember,"onUpdate:modelValue":c[2]||(c[2]=e=>R.loginForm.remember=e)},{default:i((()=>[k])),_:1},8,["modelValue"]),n(E,{type:"text",onClick:c[3]||(c[3]=e=>R.formType="reset")},{default:i((()=>[C])),_:1})]),n(E,{loading:R.loading,type:"primary",style:{width:"100%"},onClick:h(j.handleLogin,["prevent"])},{default:i((()=>[T])),_:1},8,["loading","onClick"]),l("div",P,[$,n(E,{type:"danger",size:"mini",onClick:c[4]||(c[4]=e=>j.testAccount("admin"))},{default:i((()=>[q])),_:1}),n(E,{type:"danger",size:"mini",plain:"",onClick:c[5]||(c[5]=e=>j.testAccount("test"))},{default:i((()=>[U])),_:1})])])),_:1},8,["model","rules"]),[[s,"login"==R.formType]]),r(n(G,{ref:"resetForm",model:R.resetForm,rules:R.resetRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:i((()=>[L,l("div",null,[n(B,{prop:"account"},{default:i((()=>[n(K,{ref:"name",modelValue:R.resetForm.account,"onUpdate:modelValue":c[6]||(c[6]=e=>R.resetForm.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:i((()=>[n(I,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),n(B,{prop:"captcha"},{default:i((()=>[n(K,{ref:"captcha",modelValue:R.resetForm.captcha,"onUpdate:modelValue":c[7]||(c[7]=e=>R.resetForm.captcha=e),placeholder:"验证码",type:"text",tabindex:"2",autocomplete:"on"},{prefix:i((()=>[n(I,{name:"captcha"})])),append:i((()=>[n(E,null,{default:i((()=>[S])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(B,{prop:"newPassword"},{default:i((()=>[n(K,{ref:"newPassword",modelValue:R.resetForm.newPassword,"onUpdate:modelValue":c[8]||(c[8]=e=>R.resetForm.newPassword=e),type:R.passwordType,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:i((()=>[n(I,{name:"password"})])),suffix:i((()=>[n(I,{name:"password"===R.passwordType?"eye":"eye-open",onClick:j.showPassword},null,8,["name","onClick"])])),_:1},8,["modelValue","type"])])),_:1})]),n(J,{gutter:15,style:{"padding-top":"20px"}},{default:i((()=>[n(H,{md:6},{default:i((()=>[n(E,{style:{width:"100%"},onClick:c[9]||(c[9]=e=>R.formType="login")},{default:i((()=>[z])),_:1})])),_:1}),n(H,{md:18},{default:i((()=>[n(E,{loading:R.loading,type:"primary",style:{width:"100%"},onClick:h(j.handleFind,["prevent"])},{default:i((()=>[A])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[s,"reset"==R.formType]])]),p.$store.state.settings.showCopyright?(u(),d(M,{key:0})):m("v-if",!0)])},y.__scopeId="data-v-deb3524e";export{y as default};
