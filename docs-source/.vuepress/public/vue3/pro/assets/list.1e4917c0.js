
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./index.9fbc5cc3.js";import{_ as a}from"./index.f3c9e14e.js";import{_ as l}from"./index.a2f5d395.js";import{_ as t}from"./index.c535d87f.js";import{ai as o,a0 as i,$ as s,o as n,a1 as r,r as d,am as u,l as c,H as m,s as p,n as f,Q as v,m as g,L as h,J as b,q as _,S as y,h as x}from"./vendor.e59ac5d6.js";import{g as C,p as $,o as k,a as w,b as M}from"./pagination.acaa0357.js";import j from"./index.cc677ec9.js";import{_ as z}from"./plugin-vue_export-helper.5a098b48.js";import"./index.fa806abd.js";import"./index.412bec49.js";import"./index.e7a764ff.js";import"./index.1eae09bb.js";const L=y("新增运费模版"),V=y("筛 选"),P=y("单个批量操作按钮"),S=y("批量操作按钮组1"),U=y("批量操作按钮组2"),D=y("编辑"),E=y("删除"),R=o({name:"PagesExampleDeliveryList"});var A=z(Object.assign(R,{setup:function(o){const{proxy:y}=x(),z=i(),R=s({loading:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});function A(){R.value.loading=!0;let e=C();R.value.search.title&&(e.title=R.value.search.title),y.$api.get("pages_example/delivery/list",{baseURL:"/mock/",params:e}).then((e=>{R.value.loading=!1,R.value.dataList=e.data.list,$.value.total=e.data.total}))}function B(e){k(e).then((()=>A()))}function K(e){w(e).then((()=>A()))}function q(e,a){M(e,a).then((()=>A()))}function H(){"router"===R.value.formMode?z.push({name:"pagesExampleShopDeliveryCreate"}):(R.value.formModeProps.id="",R.value.formModeProps.visible=!0)}return n((()=>{A(),"router"===R.value.formMode&&y.$eventBus.on("get-data-list",(()=>{A()}))})),r((()=>{"router"===R.value.formMode&&y.$eventBus.off("get-data-list")})),(o,i)=>{const s=e,n=d("el-button"),r=d("el-input"),x=d("el-form-item"),C=d("el-col"),k=d("el-row"),w=d("el-form"),M=a,I=d("el-button-group"),J=l,N=d("el-table-column"),O=d("el-switch"),Q=d("el-table"),F=d("el-pagination"),G=t,T=u("loading");return c(),m("div",null,[p(s,{title:"运费模版管理"}),p(G,null,{default:f((()=>[p(n,{type:"primary",icon:"el-icon-plus",onClick:H},{default:f((()=>[L])),_:1}),p(M,null,{default:f((()=>[p(w,{model:R.value.search,size:"small","label-width":"100px","label-suffix":"："},{default:f((()=>[p(k,null,{default:f((()=>[p(C,{span:12},{default:f((()=>[p(x,{label:"模版名称"},{default:f((()=>[p(r,{modelValue:R.value.search.title,"onUpdate:modelValue":i[0]||(i[0]=e=>R.value.search.title=e),placeholder:"请输入模版名称，支持模糊查询",clearable:"",onKeydown:v(A,["enter"]),onClear:A},null,8,["modelValue","onKeydown"])])),_:1})])),_:1})])),_:1}),p(x,null,{default:f((()=>[p(n,{type:"primary",icon:"el-icon-search",onClick:A},{default:f((()=>[V])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),R.value.batch.enable?(c(),g(J,{key:0,data:o.dataList,"selection-data":R.value.batch.selectionDataList,onCheckAll:i[1]||(i[1]=e=>o.$refs.table.toggleAllSelection()),onCheckNull:i[2]||(i[2]=e=>o.$refs.table.clearSelection())},{default:f((()=>[p(n,{size:"small"},{default:f((()=>[P])),_:1}),p(I,null,{default:f((()=>[p(n,{size:"small"},{default:f((()=>[S])),_:1}),p(n,{size:"small"},{default:f((()=>[U])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):h("v-if",!0),b(p(Q,{ref:(e,a)=>{a.table=e},class:"list-table",data:R.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:q,onSelectionChange:i[3]||(i[3]=e=>R.value.batch.selectionDataList=e)},{default:f((()=>[R.value.batch.enable?(c(),g(N,{key:0,type:"selection",width:"40"})):h("v-if",!0),p(N,{prop:"title",label:"模版名称"}),p(N,{label:"开启状态",width:"100",align:"center"},{default:f((e=>[p(O,{modelValue:e.row.status,"onUpdate:modelValue":a=>e.row.status=a,onChange:a=>{return l=a,t=e.row,void y.$confirm(`确认${l?"启用":"停用"}「${t.title}」运费模版吗？`,"确认信息").then((()=>{y.$api.post("pages_example/delivery/change/status",{id:t.id,status:l},{baseURL:"/mock/"}).then((()=>{y.$message.success({message:`模拟${l?"启用":"停用"}成功`,center:!0})}))})).catch((()=>{t.status=!l}));var l,t}},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),p(N,{label:"操作",width:"250",align:"center"},{default:f((e=>[p(n,{type:"primary",size:"mini",plain:"",onClick:a=>{return l=e.row,void("router"===R.value.formMode?z.push({name:"pagesExampleShopDeliveryEdit",params:{id:l.id}}):(R.value.formModeProps.id=l.id,R.value.formModeProps.visible=!0));var l}},{default:f((()=>[D])),_:2},1032,["onClick"]),p(n,{type:"danger",size:"mini",plain:"",onClick:a=>{return l=e.row,void y.$confirm(`确认删除「${l.title}」吗？`,"确认信息").then((()=>{y.$api.post("pages_example/delivery/delete",{id:l.id},{baseURL:"/mock/"}).then((()=>{A(),y.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}));var l}},{default:f((()=>[E])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),[[T,R.value.loading]]),p(F,{"current-page":_($).page,total:_($).total,"page-size":_($).size,"page-sizes":_($).sizes,layout:_($).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:B,onCurrentChange:K},null,8,["current-page","total","page-size","page-sizes","layout"])])),_:1}),["dialog","drawer"].includes(R.value.formMode)?(c(),g(j,{key:0,id:o.formModeProps.id,modelValue:R.value.formModeProps.visible,"onUpdate:modelValue":i[4]||(i[4]=e=>R.value.formModeProps.visible=e),mode:R.value.formMode,onSuccess:A},null,8,["id","modelValue","mode"])):h("v-if",!0)])}}}),[["__scopeId","data-v-5c23b08d"]]);export{A as default};
