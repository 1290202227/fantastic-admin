
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.c1f75aed.js";import{_ as t}from"./index.2beb756b.js";import{_ as a}from"./index.7203ffb0.js";import{_ as i}from"./index.29752973.js";import{p as o}from"./pagination.ed16acc9.js";import l from"./index.a4d5a42f.js";import{x as s,y as n,r,ae as d,o as m,z as c,i as p,w as u,G as h,h as g,J as f,B as b,I as C}from"./vendor.b5a7373b.js";import"./index.cfc48546.js";import"./index.5dae4bb6.js";import"./index.13e5accc.js";import"./index.8d444685.js";const _={name:"PagesExampleDeliveryList",components:{FormMode:l},mixins:[o],data:()=>({formMode:"router",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]}),mounted(){this.getDataList(),"router"===this.formMode&&this.$eventBus.on("get-data-list",(()=>{this.getDataList()}))},beforeUnmount(){"router"===this.formMode&&this.$eventBus.off("get-data-list")},methods:{getDataList(){this.loading=!0;let e=this.getParams();this.search.title&&(e.title=this.search.title),this.$api.get("pages_example/delivery/list",{baseURL:"/mock/",params:e}).then((e=>{this.loading=!1,this.dataList=e.data.list,this.pagination.total=e.data.total}))},onCreate(){"router"===this.formMode?this.$router.push({name:"pagesExampleShopDeliveryCreate"}):(this.formModeProps.id="",this.formModeProps.visible=!0)},onEdit(e){"router"===this.formMode?this.$router.push({name:"pagesExampleShopDeliveryEdit",params:{id:e.id}}):(this.formModeProps.id=e.id,this.formModeProps.visible=!0)},onDel(e){this.$confirm(`确认删除「${e.title}」吗？`,"确认信息").then((()=>{this.$api.post("pages_example/delivery/delete",{id:e.id},{baseURL:"/mock/"}).then((()=>{this.getDataList(),this.$message.success({message:"模拟删除成功",center:!0})}))})).catch((()=>{}))},onChangeStatus(e,t){this.$confirm(`确认${e?"启用":"停用"}「${t.title}」运费模版吗？`,"确认信息").then((()=>{this.$api.post("pages_example/delivery/change/status",{id:t.id,status:e},{baseURL:"/mock/"}).then((()=>{this.$message.success({message:`模拟${e?"启用":"停用"}成功`,center:!0})}))})).catch((()=>{t.status=!e}))}}};s("data-v-19d54cb9");const y=C("新增运费模版"),v=C("筛 选"),x=C("单个批量操作按钮"),L=C("批量操作按钮组1"),k=C("批量操作按钮组2"),M=C("编辑"),$=C("删除");n(),_.render=function(o,l,s,n,C,_){const w=e,z=r("el-button"),D=r("el-input"),S=r("el-form-item"),j=r("el-col"),P=r("el-row"),V=r("el-form"),U=t,E=r("el-button-group"),B=a,R=r("el-table-column"),A=r("el-switch"),F=r("el-table"),I=r("el-pagination"),K=i,G=r("FormMode"),J=d("loading");return m(),c("div",null,[p(w,{title:"运费模版管理"}),p(K,null,{default:u((()=>[p(z,{type:"primary",icon:"el-icon-plus",onClick:_.onCreate},{default:u((()=>[y])),_:1},8,["onClick"]),p(U,null,{default:u((()=>[p(V,{model:C.search,size:"small","label-width":"100px","label-suffix":"："},{default:u((()=>[p(P,null,{default:u((()=>[p(j,{span:12},{default:u((()=>[p(S,{label:"模版名称"},{default:u((()=>[p(D,{modelValue:C.search.title,"onUpdate:modelValue":l[0]||(l[0]=e=>C.search.title=e),placeholder:"请输入模版名称，支持模糊查询",clearable:"",onKeydown:h(_.getDataList,["enter"]),onClear:_.getDataList},null,8,["modelValue","onKeydown","onClear"])])),_:1})])),_:1})])),_:1}),p(S,null,{default:u((()=>[p(z,{type:"primary",icon:"el-icon-search",onClick:_.getDataList},{default:u((()=>[v])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),C.batch.enable?(m(),g(B,{key:0,data:C.dataList,"selection-data":C.batch.selectionDataList,onCheckAll:l[1]||(l[1]=e=>o.$refs.table.toggleAllSelection()),onCheckNull:l[2]||(l[2]=e=>o.$refs.table.clearSelection())},{default:u((()=>[p(z,{size:"small"},{default:u((()=>[x])),_:1}),p(E,null,{default:u((()=>[p(z,{size:"small"},{default:u((()=>[L])),_:1}),p(z,{size:"small"},{default:u((()=>[k])),_:1})])),_:1})])),_:1},8,["data","selection-data"])):f("v-if",!0),b(p(F,{ref:"table",class:"list-table",data:C.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:o.onSortChange,onSelectionChange:l[3]||(l[3]=e=>C.batch.selectionDataList=e)},{default:u((()=>[C.batch.enable?(m(),g(R,{key:0,type:"selection",width:"40"})):f("v-if",!0),p(R,{prop:"title",label:"模版名称"}),p(R,{label:"开启状态",width:"100",align:"center"},{default:u((e=>[p(A,{modelValue:e.row.status,"onUpdate:modelValue":t=>e.row.status=t,onChange:t=>_.onChangeStatus(t,e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),p(R,{label:"操作",width:"250",align:"center"},{default:u((e=>[p(z,{type:"primary",size:"mini",plain:"",onClick:t=>_.onEdit(e.row)},{default:u((()=>[M])),_:2},1032,["onClick"]),p(z,{type:"danger",size:"mini",plain:"",onClick:t=>_.onDel(e.row)},{default:u((()=>[$])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSortChange"]),[[J,o.loading]]),p(I,{"current-page":o.pagination.page,total:o.pagination.total,"page-size":o.pagination.size,"page-sizes":o.pagination.sizes,layout:o.pagination.layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:o.onSizeChange,onCurrentChange:o.onCurrentChange},null,8,["current-page","total","page-size","page-sizes","layout","onSizeChange","onCurrentChange"])])),_:1}),["dialog","drawer"].includes(C.formMode)?(m(),g(G,{key:0,id:C.formModeProps.id,modelValue:C.formModeProps.visible,"onUpdate:modelValue":l[4]||(l[4]=e=>C.formModeProps.visible=e),mode:C.formMode,onSuccess:_.getDataList},null,8,["id","modelValue","mode","onSuccess"])):f("v-if",!0)])},_.__scopeId="data-v-19d54cb9";export{_ as default};
