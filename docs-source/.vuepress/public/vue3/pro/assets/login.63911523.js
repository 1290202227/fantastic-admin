
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as E,a as Q}from"./index.d9728f88.js";import{_ as X}from"./index.70fd940b.js";import{M as Y,u as Z,j as G,O as H,P as u,o as J,r as m,m as j,Q as W,t as e,q as t,R as s,S as q,T as S,U as w,s as ee,V as oe,X as U,Y as i,n as te,Z as ae,_ as le,$ as ne,a0 as se,i as re}from"./vendor.3faf3917.js";import{s as h}from"./index.a0587f4d.js";import{_ as ue}from"./plugin-vue_export-helper.5a098b48.js";const y=b=>(le("data-v-06b91dc8"),b=b(),ne(),b),ie=y(()=>s("div",{class:"bg-banner"},null,-1)),de=y(()=>s("i",{class:"ri-translate"},null,-1)),pe={id:"login-box"},ce=y(()=>s("div",{class:"login-banner"},null,-1)),me={class:"title-container"},_e={class:"title"},fe={class:"flex-bar"},ge=i("\u8BB0\u4F4F\u6211"),ve=i("\u5FD8\u8BB0\u5BC6\u7801"),we={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},he=y(()=>s("span",{style:{"margin-right":"5px"}},"\u6F14\u793A\u5E10\u53F7\u4E00\u952E\u767B\u5F55\uFF1A",-1)),ye=i("admin"),be=i("test"),xe=y(()=>s("div",{class:"title-container"},[s("h3",{class:"title"},"\u91CD\u7F6E\u5BC6\u7801")],-1)),Ve=Y({name:"Login"});function $e(b){const{proxy:x}=re(),I=Z(),T=G(),B=H(),N="Fantastic-admin \u4E13\u4E1A\u7248",V=u("login"),r=u({account:h.local.get("login_account"),password:"",remember:h.local.has("login_account")}),z=u({account:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}]}),d=u({account:h.local.get("login_account"),captcha:"",newPassword:""}),K=u({account:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],captcha:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],newPassword:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}]}),f=u(!1),_=u("password"),k=u(null);J(()=>{var l;k.value=(l=T.query.redirect)!=null?l:"/"});function C(){_.value=_.value==="password"?"":"password",se(()=>{x.$refs.password.focus()})}function $(){x.$refs.loginFormRef.validate(l=>{l&&(f.value=!0,I.dispatch("user/login",r.value).then(()=>{f.value=!1,r.value.remember?h.local.set("login_account",r.value.account):h.local.remove("login_account"),B.push(k.value)}).catch(()=>{f.value=!1}))})}function L(){x.$message({message:"\u91CD\u7F6E\u5BC6\u7801\u4EC5\u63D0\u4F9B\u754C\u9762\u6F14\u793A\uFF0C\u65E0\u5B9E\u9645\u529F\u80FD\uFF0C\u9700\u5F00\u53D1\u8005\u81EA\u884C\u6269\u5C55",type:"info"}),x.$refs.resetFormRef.validate(l=>{})}function P(l){r.value.account=l,r.value.password="123456",$()}return(l,a)=>{const M=E,p=X,g=m("el-input"),v=m("el-form-item"),D=m("el-checkbox"),c=m("el-button"),R=m("el-form"),F=m("el-col"),O=m("el-row"),A=Q;return j(),W("div",null,[ie,e(M,{class:"i18n-selector"},{default:t(()=>[de]),_:1}),s("div",pe,[ce,q(e(R,{ref:(o,n)=>{n.loginFormRef=o},model:r.value,rules:z.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:t(()=>[s("div",me,[s("h3",_e,w(ee(N))+"\u7BA1\u7406\u540E\u53F0",1)]),s("div",null,[e(v,{prop:"account"},{default:t(()=>[e(g,{ref:(o,n)=>{n.name=o},modelValue:r.value.account,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value.account=o),placeholder:l.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:t(()=>[e(p,{name:"user"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(v,{prop:"password"},{default:t(()=>[e(g,{ref:(o,n)=>{n.password=o},modelValue:r.value.password,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.password=o),type:_.value,placeholder:l.$t("app.password"),tabindex:"2",autocomplete:"on",onKeyup:oe($,["enter"])},{prefix:t(()=>[e(p,{name:"password"})]),suffix:t(()=>[e(p,{name:_.value==="password"?"eye":"eye-open",onClick:C},null,8,["name"])]),_:1},8,["modelValue","type","placeholder","onKeyup"])]),_:1})]),s("div",fe,[e(D,{modelValue:r.value.remember,"onUpdate:modelValue":a[2]||(a[2]=o=>r.value.remember=o)},{default:t(()=>[ge]),_:1},8,["modelValue"]),e(c,{type:"text",onClick:a[3]||(a[3]=o=>V.value="reset")},{default:t(()=>[ve]),_:1})]),e(c,{loading:f.value,type:"primary",style:{width:"100%"},onClick:U($,["prevent"])},{default:t(()=>[i(w(l.$t("app.login")),1)]),_:1},8,["loading","onClick"]),s("div",we,[he,e(c,{type:"danger",size:"mini",onClick:a[4]||(a[4]=o=>P("admin"))},{default:t(()=>[ye]),_:1}),e(c,{type:"danger",size:"mini",plain:"",onClick:a[5]||(a[5]=o=>P("test"))},{default:t(()=>[be]),_:1})])]),_:1},8,["model","rules"]),[[S,V.value=="login"]]),q(e(R,{ref:(o,n)=>{n.resetFormRef=o},model:d.value,rules:K.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:t(()=>[xe,s("div",null,[e(v,{prop:"account"},{default:t(()=>[e(g,{ref:(o,n)=>{n.name=o},modelValue:d.value.account,"onUpdate:modelValue":a[6]||(a[6]=o=>d.value.account=o),placeholder:l.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:t(()=>[e(p,{name:"user"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(v,{prop:"captcha"},{default:t(()=>[e(g,{ref:(o,n)=>{n.captcha=o},modelValue:d.value.captcha,"onUpdate:modelValue":a[7]||(a[7]=o=>d.value.captcha=o),placeholder:l.$t("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:t(()=>[e(p,{name:"captcha"})]),append:t(()=>[e(c,null,{default:t(()=>[i(w(l.$t("app.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(v,{prop:"newPassword"},{default:t(()=>[e(g,{ref:(o,n)=>{n.newPassword=o},modelValue:d.value.newPassword,"onUpdate:modelValue":a[8]||(a[8]=o=>d.value.newPassword=o),type:_.value,placeholder:l.$t("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:t(()=>[e(p,{name:"password"})]),suffix:t(()=>[e(p,{name:_.value==="password"?"eye":"eye-open",onClick:C},null,8,["name"])]),_:1},8,["modelValue","type","placeholder"])]),_:1})]),e(O,{gutter:15,style:{"padding-top":"20px"}},{default:t(()=>[e(F,{md:6},{default:t(()=>[e(c,{style:{width:"100%"},onClick:a[9]||(a[9]=o=>V.value="login")},{default:t(()=>[i(w(l.$t("app.goLogin")),1)]),_:1})]),_:1}),e(F,{md:18},{default:t(()=>[e(c,{loading:f.value,type:"primary",style:{width:"100%"},onClick:U(L,["prevent"])},{default:t(()=>[i(w(l.$t("app.check")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),[[S,V.value=="reset"]])]),l.$store.state.settings.showCopyright?(j(),te(A,{key:0})):ae("v-if",!0)])}}const ke=Object.assign(Ve,{setup:$e});var qe=ue(ke,[["__scopeId","data-v-06b91dc8"]]);export{qe as default};
