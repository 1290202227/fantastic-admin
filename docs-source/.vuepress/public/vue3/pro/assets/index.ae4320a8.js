
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as e}from"./plugin-vue_export-helper.5a098b48.js";import{$ as a,o as l,r as o,am as r,J as m,l as u,H as s,s as t,n as d,S as i,h as n}from"./vendor.1e0be253.js";const p=i("保密"),f=i("男"),c=i("女");var g=e({props:{id:{type:[Number,String],default:""}},setup(e,{expose:i}){const g=e,{proxy:v}=n(),b=a({loading:!1,form:{id:g.id,account:"",name:"",mobile:"",sex:"2"},rules:{account:[{required:!0,message:"请输入帐号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:(e,a,l)=>{let o={key:"mobile",value:a};""!=b.value.form.id&&(o.id=b.value.form.id),v.$api.get("pages_example/manager/check",{baseURL:"/mock/",params:o}).then((e=>{e.data.exist?l(new Error("手机号已存在")):l()}))},trigger:"blur"}]}});return l((()=>{""!=b.value.form.id&&(b.value.loading=!0,v.$api.get("pages_example/manager/detail",{baseURL:"/mock/",params:{id:b.value.form.id}}).then((e=>{b.value.loading=!1,b.value.form.account=e.data.account,b.value.form.name=e.data.name,b.value.form.mobile=e.data.mobile})))})),i({submit(e){""==b.value.form.id?v.$refs.form.validate((a=>{a&&v.$api.post("pages_example/manager/create",b.value.form,{baseURL:"/mock/"}).then((()=>{v.$message.success({message:"模拟新增成功",center:!0}),e&&e()}))})):v.$refs.form.validate((a=>{a&&v.$api.post("pages_example/manager/edit",b.value.form,{baseURL:"/mock/"}).then((()=>{v.$message.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}),(e,a)=>{const l=o("el-input"),i=o("el-form-item"),n=o("el-radio-button"),g=o("el-radio-group"),v=o("el-form"),_=r("loading");return m((u(),s("div",null,[t(v,{ref:(e,a)=>{a.form=e},model:b.value.form,rules:b.value.rules,"label-width":"120px","label-suffix":"："},{default:d((()=>[t(i,{label:"帐号",prop:"account"},{default:d((()=>[t(l,{modelValue:b.value.form.account,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value.form.account=e),placeholder:"请输入帐号"},null,8,["modelValue"])])),_:1}),t(i,{label:"姓名",prop:"name"},{default:d((()=>[t(l,{modelValue:b.value.form.name,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value.form.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1}),t(i,{label:"手机号",prop:"mobile"},{default:d((()=>[t(l,{modelValue:b.value.form.mobile,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value.form.mobile=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),t(i,{label:"性别",prop:"sex"},{default:d((()=>[t(g,{modelValue:b.value.form.sex,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value.form.sex=e),size:"small"},{default:d((()=>[t(n,{label:"2"},{default:d((()=>[p])),_:1}),t(n,{label:"1"},{default:d((()=>[f])),_:1}),t(n,{label:"0"},{default:d((()=>[c])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])],512)),[[_,b.value.loading]])}}},[["__scopeId","data-v-62367b84"]]);export{g as default};
