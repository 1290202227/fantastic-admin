
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{_ as e}from"./index.281722fb.js";import{_ as l}from"./index.46bcf552.js";import{r as a,n as t,J as o,q as i,l as n,V as m,U as d,k as u,R as r,O as s}from"./vendor.3dac1dfd.js";const h={data:()=>({authorizationList:[{name:"站点管理",module:"station",authorization_list:[{name:"查看详情",module:"info"},{name:"停用",module:"disabled"},{name:"编辑",module:"edit"},{name:"启用",module:"enable"},{name:"查看列表",module:"list"}]},{name:"部门管理",module:"department",authorization_list:[{name:"删除",module:"delete"},{name:"编辑",module:"edit"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"}]},{name:"职位管理",module:"department_job",authorization_list:[{name:"查看列表",module:"list"},{name:"新增",module:"new"},{name:"编辑",module:"edit"},{name:"删除",module:"delete"},{name:"查看详情",module:"info"}]},{name:"角色管理",module:"role",authorization_list:[{name:"删除",module:"delete"},{name:"编辑",module:"edit"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"}]},{name:"管理员管理",module:"admin_manager",authorization_list:[{name:"编辑权限",module:"authorization_edit"},{name:"查看权限详情",module:"authorization_info"},{name:"删除",module:"delete"},{name:"停用",module:"disabled"},{name:"编辑",module:"edit"},{name:"启用",module:"enable"},{name:"查看详情",module:"info"},{name:"查看列表",module:"list"},{name:"新增",module:"new"},{name:"重置密码",module:"reset"}]}],form:{name:"",brief:"",authorization_list:[]},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],authorization_list:[{validator:(e,l,a)=>{0==l.length?a(new Error("至少选择一个权限")):a()},trigger:"change"}]}}),computed:{checkAll(){let e=[];return this.authorizationList.forEach((l=>{let a=[];l.authorization_list.forEach((e=>{this.form.authorization_list.includes(`${l.module}.${e.module}`)&&a.push(`${l.module}.${e.module}`)})),e.push({checkAll:a.length==l.authorization_list.length,indeterminate:a.length>0&&a.length<l.authorization_list.length})})),e}},mounted(){},methods:{handleCheckAll(e,l){e?this.authorizationList[l].authorization_list.forEach((e=>{this.form.authorization_list.includes(`${this.authorizationList[l].module}.${e.module}`)||this.form.authorization_list.push(`${this.authorizationList[l].module}.${e.module}`)})):this.authorizationList[l].authorization_list.forEach((e=>{this.form.authorization_list=this.form.authorization_list.filter((a=>a!=`${this.authorizationList[l].module}.${e.module}`))}))}}},f=r("全选");h.render=function(h,_,c,z,p,b){const g=e,$=a("el-input"),x=a("el-form-item"),w=a("el-table-column"),V=a("el-checkbox"),k=a("el-checkbox-group"),A=a("el-col"),L=a("el-row"),U=a("el-table"),y=a("el-form"),E=l;return t(),o("div",null,[i(g,{title:"权限",content:"该页面生成的权限格式，可直接用于本项目的权限模式"}),i(E,null,{default:n((()=>[i(L,null,{default:n((()=>[i(A,{md:24,lg:18},{default:n((()=>[i(y,{ref:"form",model:p.form,rules:p.rules,"label-width":"120px","label-suffix":"："},{default:n((()=>[i(x,{label:"名称",prop:"name"},{default:n((()=>[i($,{modelValue:p.form.name,"onUpdate:modelValue":_[0]||(_[0]=e=>p.form.name=e),placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),i(x,{label:"简介"},{default:n((()=>[i($,{modelValue:p.form.brief,"onUpdate:modelValue":_[1]||(_[1]=e=>p.form.brief=e),type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"请输入角色简介"},null,8,["modelValue"])])),_:1}),i(x,{label:"权限",prop:"authorization_list"},{default:n((()=>[i(U,{data:p.authorizationList,border:"",stripe:"","highlight-current-row":"",style:{"line-height":"normal"}},{default:n((()=>[i(w,{prop:"name",width:"200",label:"模块"}),i(w,{label:"权限"},{default:n((e=>[i(L,{type:"flex",align:"middle"},{default:n((()=>[i(A,null,{default:n((()=>[i(k,{modelValue:p.form.authorization_list,"onUpdate:modelValue":_[2]||(_[2]=e=>p.form.authorization_list=e)},{default:n((()=>[(t(!0),o(m,null,d(e.row.authorization_list,(l=>(t(),u(V,{key:`${e.row.module}.${l.module}`,label:`${e.row.module}.${l.module}`},{default:n((()=>[r(s(l.name),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue"])])),_:2},1024),i(A,{style:{flex:"1","margin-left":"20px"}},{default:n((()=>[i(V,{modelValue:b.checkAll[e.$index].checkAll,"onUpdate:modelValue":l=>b.checkAll[e.$index].checkAll=l,border:"",size:"small",indeterminate:b.checkAll[e.$index].indeterminate,onChange:l=>b.handleCheckAll(l,e.$index)},{default:n((()=>[f])),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"])])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["data"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})])),_:1})])};export{h as default};
