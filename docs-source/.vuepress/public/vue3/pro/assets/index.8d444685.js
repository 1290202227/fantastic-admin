
/**
 * name: Fantastic-admin
 * homepage: https://hooray.gitee.io/fantastic-admin/
 */
    
import{a as e}from"./index.13e5accc.js";import{x as l,y as t,r as a,o as i,z as d,B as o,D as s,h as n,w as r,i as u,J as c,L as p,K as g,I as f,F as h,A as m}from"./vendor.b5a7373b.js";const y={props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],data:()=>({dialog:{index:"",visible:!1,filter:"",checkList:[],disableList:[]}}),computed:{province(){let l;switch(this.dialog.filter){case"":l=e;break;case"autonomousRegion":l=e.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":l=e.filter((e=>e.provinceLevelCity));break;default:l=e.filter((e=>e.region==this.dialog.filter))}return l}},created(){},mounted(){},methods:{showFreightDialog(){this.dialog.index="",this.dialog.checkList=[],this.dialog.disableList=this.getDisableProvinceList(),this.dialog.visible=!0},freightDialogSubmit(e){if(0===this.dialog.checkList.length)this.$message({message:"请勾选区域",type:"warning"});else{let l=this.data;""!==e?l[e].list=this.dialog.checkList:l.push({list:this.dialog.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),this.$emit("update:data",l),this.dialog.visible=!1}},editFreight(e){this.dialog.index=e,this.dialog.checkList=this.data[e].list,this.dialog.disableList=this.getDisableProvinceList(e),this.dialog.visible=!0},deleteFreight(e){let l=this.data;l.splice(e,1),this.$emit("update:data",l)},deleteSingleFreight(e,l){let t=this.data;t[e].list.splice(t[e].list.indexOf(l),1),0===t[e].list.length&&t.splice(e,1),this.$emit("update:data",t)},getProvinceByCode(l){let t="";for(const a in e)e[a].code===l&&(t=e[a].name);return t},getDisableProvinceList(e){let l=[];for(let t=0;t<this.data.length;t++)e!==t&&(l=l.concat(this.data[t].list));return l}}};l("data-v-76c30137");const b={key:0},_=f("编 辑"),k={key:0},v={key:0},w={key:0},V={key:0},x=f("删 除"),L=m("span",null,null,-1),C={key:0,style:{padding:"10px"}},U=f("新增一条运费模版"),z=f("为指定地区设置运费模版"),F={class:"filter"},D=f("全部"),$=f("华北地区"),P=f("东北地区"),B=f("华东地区"),S=f("华中地区"),R=f("华南地区"),j=f("西南地区"),A=f("西北地区"),I=f("自治区"),J=f("直辖市"),K=f("确 定");t(),y.render=function(e,l,t,y,N,O){const q=a("el-tag"),E=a("el-col"),G=a("el-button"),H=a("el-row"),M=a("el-table-column"),Q=a("el-input"),T=a("el-table"),W=a("el-radio-button"),X=a("el-radio-group"),Y=a("el-checkbox"),Z=a("el-checkbox-group"),ee=a("el-dialog");return i(),d("div",null,[t.readonly&&0==t.data.length?c("v-if",!0):o((i(),n(T,{key:0,data:t.data,border:"",class:"freight"},{empty:r((()=>[L])),append:r((()=>[t.readonly?c("v-if",!0):(i(),d("div",C,[u(G,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:O.showFreightDialog},{default:r((()=>[U])),_:1},8,["onClick"])]))])),default:r((()=>[u(M,{label:"运送到"},{default:r((e=>[t.readonly?(i(),d("div",b,[(i(!0),d(p,null,g(e.row.list,((e,l)=>(i(),n(q,{key:l,type:"info"},{default:r((()=>[f(h(O.getProvinceByCode(e)),1)])),_:2},1024)))),128))])):(i(),n(H,{key:1,type:"flex",align:"middle"},{default:r((()=>[u(E,null,{default:r((()=>[(i(!0),d(p,null,g(e.row.list,((l,t)=>(i(),n(q,{key:t,"disable-transitions":!0,type:"info",closable:"",onClose:t=>O.deleteSingleFreight(e.$index,l)},{default:r((()=>[f(h(O.getProvinceByCode(l)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),u(E,{style:{width:"100px","text-align":"right"}},{default:r((()=>[u(G,{size:"small",plain:"",onClick:l=>O.editFreight(e.$index)},{default:r((()=>[_])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),u(M,{label:1==t.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",k,h(e.row.first_step),1)):(i(),n(Q,{key:1,modelValue:e.row.first_step,"onUpdate:modelValue":l=>e.row.first_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(M,{label:"首费（元）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",v,h(e.row.first_price),1)):(i(),n(Q,{key:1,modelValue:e.row.first_price,"onUpdate:modelValue":l=>e.row.first_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),u(M,{label:1==t.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",w,h(e.row.continued_step),1)):(i(),n(Q,{key:1,modelValue:e.row.continued_step,"onUpdate:modelValue":l=>e.row.continued_step=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),u(M,{label:"续费（元）",width:"150",align:"center"},{default:r((e=>[t.readonly?(i(),d("span",V,h(e.row.continued_price),1)):(i(),n(Q,{key:1,modelValue:e.row.continued_price,"onUpdate:modelValue":l=>e.row.continued_price=l,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),t.readonly?c("v-if",!0):(i(),n(M,{key:0,label:"操作",width:"100",align:"center"},{default:r((e=>[u(G,{type:"danger",size:"small",plain:"",onClick:l=>O.deleteFreight(e.$index)},{default:r((()=>[x])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[s,0!=t.data.length]]),t.readonly?c("v-if",!0):o((i(),n(G,{key:1,type:"primary",size:"small",plain:"",onClick:O.showFreightDialog},{default:r((()=>[z])),_:1},8,["onClick"])),[[s,0==t.data.length]]),u(ee,{modelValue:N.dialog.visible,"onUpdate:modelValue":l[3]||(l[3]=e=>N.dialog.visible=e),title:"选择地区",width:"800px",class:"freight-dialog","append-to-body":"",onClosed:l[4]||(l[4]=e=>N.dialog.filter="")},{footer:r((()=>[u(G,{type:"primary",onClick:l[2]||(l[2]=e=>O.freightDialogSubmit(N.dialog.index))},{default:r((()=>[K])),_:1})])),default:r((()=>[m("div",F,[u(X,{modelValue:N.dialog.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>N.dialog.filter=e),size:"small"},{default:r((()=>[u(W,{label:""},{default:r((()=>[D])),_:1}),u(W,{label:"north"},{default:r((()=>[$])),_:1}),u(W,{label:"northeast"},{default:r((()=>[P])),_:1}),u(W,{label:"east"},{default:r((()=>[B])),_:1}),u(W,{label:"central"},{default:r((()=>[S])),_:1}),u(W,{label:"south"},{default:r((()=>[R])),_:1}),u(W,{label:"southwest"},{default:r((()=>[j])),_:1}),u(W,{label:"northwest"},{default:r((()=>[A])),_:1}),u(W,{label:"autonomousRegion"},{default:r((()=>[I])),_:1}),u(W,{label:"provinceLevelCity"},{default:r((()=>[J])),_:1})])),_:1},8,["modelValue"])]),u(Z,{modelValue:N.dialog.checkList,"onUpdate:modelValue":l[1]||(l[1]=e=>N.dialog.checkList=e),style:{"margin-left":"50px"}},{default:r((()=>[u(H,null,{default:r((()=>[(i(!0),d(p,null,g(O.province,((e,l)=>(i(),n(E,{key:l,span:6},{default:r((()=>[u(Y,{label:e.code,disabled:N.dialog.disableList.includes(e.code)},{default:r((()=>[f(h(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])},y.__scopeId="data-v-76c30137";export{y as default};
